{"version":3,"sources":["webpack:///./src/modules/reports/mixins/roleKpi.ts","webpack:///./src/modules/reports/mixins/exportsKpi.ts","webpack:///./src/modules/reports/components/filters/FilterPl9l.vue?87ec","webpack:///./src/modules/reports/views/Pl9lReport.vue?9183","webpack:///./src/modules/reports/components/filters/FilterPl9l.vue?c17c","webpack:///./src/modules/reports/components/filters/FilterPl9l.vue","webpack:///./src/modules/reports/components/filters/FilterPl9l.vue?bdf0","webpack:///./src/modules/reports/components/filters/FilterPl9l.vue?f3a9","webpack:///./src/modules/reports/views/Pl9lReport.vue","webpack:///./src/modules/reports/views/Pl9lReport.vue?c2cb","webpack:///./src/modules/reports/views/Pl9lReport.vue?a0c3","webpack:///./src/modules/reports/views/Pl9lReport.vue?1347"],"names":["beUser","RoleKpiMixin","this","user","branchId","id","branchName","fullName","role","roleMembers","userRole","includes","roleOfficeLeaderMember","roleBranchMember","roleBranchLeader","roleHOLEADERAmin","State","ExportMixin","reportRes2","undefined","isExcelLoading","isPdfLoading","type","format","filters","exportKpi","ext","response","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","date","Date","time","getFullYear","getMonth","getDate","getHours","getMinutes","getMilliseconds","setAttribute","body","appendChild","click","status","$message","error","districtId","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isLoading","table","summaryMethod","on","handleSizeChange","handleCurrentChange","handleFiltersChange","scopedSlots","_u","key","fn","ref","events","$event","handleExportFile","_v","scope","_s","$index","page","limit","sc","_f","row","mtargetAmount","mresultAmount","mresultPercent","staticRenderFns","searchPlaceholder","model","value","callback","$$v","search","expression","staticStyle","slot","handleClick","getScreen","handleShowPopper","isShow","$set","_l","item","label","query","remoteMethod","disable","area","handleChange","directives","name","rawName","dataSelect","branch","locationCode","office","member","memberNo","handleSubmit","handleCommand","index","class","active","sortType","command","divided","beAudit","locationRes","groupFilters","kpiMonth","kpiYear","kpiCode","chitieu","areas","i","ps","branches","offices","members","statusAccount","groupCode","sort","filter1","dataChange","screen","availHeight","code","push","console","log","length","newList","filter","el","find","checkChangOrRemove","ids","$forceUpdate","lastId","stateFilter","getFilter","$route","checkCode","new_","searchText","$emit","keywordString","orderByClause","setReportFilter","contract","roleSaleMember","memberIdArray","memberLogin","areaIdArray","areaId","branchIdArray","transOfficeIdArray","transactionOfficeId","apiEmployee","init","a","isAdd","getEmployeeList","result","memberId","list","areaCode","areaName","locationId","locationName","branchCode","transactionOfficeCode","transactionOfficeName","Promise","all","searchArea","searchBranch","searchOffice","searchMembers","$refs","filterForm","clearValidate","resultPercent","resetData","required","String","default","Action","Getter","immediate","components","component","total","tableHeight","reportRes","summary","debounceFilter","tree","treeNode","resolve","setTimeout","params","getSummary","getData","columns","sums","column","property","$options","formatPercent","formatNumber","getReportByType","pageSize","pageNo","getSummaryByType","val","innerHeight","getHeightOfTable","handleExport","ReportFilter"],"mappings":"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","file":"js/chunk-43f95d59.145f3789.js","sourcesContent":["import { Component, Vue } from 'vue-property-decorator'\nimport { namespace } from 'vuex-class'\nimport { UserEntity } from '@/services/entities/user'\nconst beUser = namespace('beUser')\n@Component\nexport default class RoleKpiMixin extends Vue {\n  @beUser.State('user') user!: UserEntity\n  @beUser.State('role') roleMembers!: any\n  get memberLogin(): any {\n    return this.user\n  }\n  get branchId(): number {\n    return this.user.branchId\n  }\n  get memberId(): number {\n    return this.user.id\n  }\n  get brandName(): string {\n    return this.user.branchName\n  }\n  get memberFullName(): string {\n    return this.user.fullName\n  }\n\n  get roleHOLEADERAmin(): boolean {\n    let role = false\n    if (this.user.role) {\n      if (this.roleMembers.userRole.includes('HO_LEADER') || this.roleMembers.userRole.includes('HO_MEMBER') || this.roleMembers.userRole.includes('ADMIN')) {\n        role = true\n      }\n    }\n    return role\n  }\n  get roleSaleMember(): boolean {\n    let role = false\n    if (\n      this.roleMembers.userRole.includes('TRANSACTION_OFFICE_MEMBER') &&\n      !this.roleOfficeLeaderMember &&\n      !this.roleBranchMember &&\n      !this.roleBranchLeader &&\n      !this.roleHOLEADERAmin\n    ) {\n      role = true\n    }\n    return role\n  }\n  get roleOfficeLeaderMember(): boolean {\n    let role = false\n    if (this.roleMembers.userRole.includes('TRANSACTION_OFFICE_LEADER') && !this.roleBranchMember && !this.roleBranchLeader && !this.roleHOLEADERAmin) {\n      role = true\n    }\n    return role\n  }\n\n  get roleBranchMember(): boolean {\n    let role = false\n    if (this.roleMembers.userRole.includes('BRANCH_MEMBER') && !this.roleBranchLeader && !this.roleHOLEADERAmin) {\n      role = true\n    }\n    return role\n  }\n  get roleBranchLeader(): boolean {\n    let role = false\n    if (this.roleMembers.userRole.includes('BRANCH_LEADER') && !this.roleHOLEADERAmin) {\n      role = true\n    }\n    return role\n  }\n}\n","import { assign } from 'lodash'\nimport getRepository from '@/services'\nimport ReportRepository from '@/services/repositories/report'\nimport { Vue, Component } from 'vue-property-decorator'\n// import { filter } from 'vue/types/umd'\n\n@Component\nexport default class ExportMixin extends Vue {\n  reportRes2: ReportRepository | undefined = undefined\n\n  isExcelLoading = false\n  isPdfLoading = false\n\n  async handleExport(type: 'member' | 'branch', format: 'excel' | 'pdf' = 'excel', filters: Record<string, any>, table?: Record<string, any>): Promise<void> {\n    if (format === 'excel') this.isExcelLoading = true\n    if (format === 'pdf') this.isPdfLoading = true\n    try {\n      const response = await this.reportRes2?.exportKpi(\n        type,\n        {\n          ...filters,\n          ext: format == 'excel' ? 'xlsx' : 'pdf'\n        }\n        // assign(\n        //   {\n        //     format: format\n        //   },\n        //   filters,\n        //   table\n        // )\n      )\n      const url = window.URL.createObjectURL(new Blob([response.data]))\n      const link = document.createElement('a')\n      link.href = url\n      const date = new Date()\n      const time = `${date.getFullYear()}${date.getMonth() + 1}${date.getDate()}${date.getHours()}${date.getMinutes()}${date.getMilliseconds()}`\n      // link.setAttribute('download', `${type.toUpperCase()}_${time}.${format === 'pdf' ? 'pdf' : 'xlsx'}`)\n      link.setAttribute('download', `KPI_${type == 'member' ? 'CBNV' : 'DVKD'}_${time}.${format === 'pdf' ? 'pdf' : 'xlsx'}`)\n\n      document.body.appendChild(link)\n      link.click()\n      this.isExcelLoading = false\n      this.isPdfLoading = false\n    } catch (error) {\n      if (error.response.status === 404) {\n        this.$message.error('Không tìm thấy dữ liệu xuất file')\n      }\n      this.isExcelLoading = false\n      this.isPdfLoading = false\n    }\n  }\n\n  created(): void {\n    this.reportRes2 = getRepository('report', {\n      districtId: this.districtId\n    })\n  }\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPl9l.vue?vue&type=style&index=0&id=1cc027bd&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"report-page\"},[_c('base-tree-table',{staticClass:\"PL9L table-expanded custom-table custom-table-height custom-kpi-cbnv\",attrs:{\"data\":_vm.data,\"isLoading\":_vm.isLoading,\"table\":_vm.table,\"filters\":_vm.filters,\"showPagination\":true,\"showSummary\":true,\"summaryMethod\":_vm.summaryMethod,\"default-expand-all\":true,\"sumText\":\"Tổng\",\"paginationInfo\":\"CBNV\",\"rowKey\":\"id\",\"emptyText\":\"Không có dữ liệu kpi\"},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange,\"filterChange\":_vm.handleFiltersChange},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar filters = ref.filters;\nvar events = ref.events;\nreturn _c('div',{staticClass:\"be-flex align-center header\"},[_c('report-filter',{staticClass:\"be-flex-item\",attrs:{\"filters\":filters},on:{\"change\":events}}),_c('div',{staticClass:\"actions\"},[_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":_vm.isExcelLoading},on:{\"click\":function($event){return _vm.handleExportFile('member', 'excel', filters)}}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"excel-fullcolor\"}}),_vm._v(\" Xuất Excel \")],1)]),_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":_vm.isPdfLoading},on:{\"click\":function($event){return _vm.handleExportFile('member', 'pdf', filters)}}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"pdf\"}}),_vm._v(\" Xuất PDF \")],1)])],1)],1)}}])},[_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\",\"align\":\"center\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.$index + (_vm.table.page - 1) * _vm.table.limit + 1))]}}])}),_c('el-table-column',{attrs:{\"label\":\"MÃ ĐVKD\",\"prop\":\"transactionOfficeCode\",\"min-width\":\"100px\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"ĐƠN VỊ KINH DOANH\",\"prop\":\"transactionOfficeName\",\"min-width\":\"220px\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"label\":\"MÃ NV\",\"prop\":\"memberNo\",\"min-width\":\"120px\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"label\":\"TÊN CBNV\",\"prop\":\"fullName\",\"min-width\":\"180px\",\"align\":\"left\"}}),_c('el-table-column',{staticClass:\"style-nowrap\",attrs:{\"label\":\"CHỈ TIÊU\",\"prop\":\"mtargetAmount\",\"min-width\":\"160px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(sc.row.mtargetAmount))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"KẾT QUẢ\",\"prop\":\"mresultAmount\",\"min-width\":\"150px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(sc.row.mresultAmount))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"TLHT\",\"prop\":\"mresultPercent\",\"min-width\":\"150px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatPercent\")(sc.row.mresultPercent))+\" \")]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"report-filter\"},[_c('div',{staticClass:\"be-flex align-center\"},[_c('el-input',{staticClass:\"border-input input-width-beedu-prefix custom-report-input custom-input\",attrs:{\"placeholder\":_vm.searchPlaceholder},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}},[_c('base-icon',{staticStyle:{\"font-size\":\"12px\"},attrs:{\"slot\":\"prefix\",\"icon\":\"search\"},slot:\"prefix\",model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('el-button',{staticClass:\"be-button-unset custom-button mr-2\",on:{\"click\":_vm.handleClick}},[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"popper-class\":_vm.getScreen ? 'popper-filter-import popper-filter-import--screen' : 'popper-filter-import',\"width\":\"340\",\"trigger\":\"click\"},on:{\"show\":_vm.handleShowPopper},model:{value:(_vm.isShow),callback:function ($$v) {_vm.isShow=$$v},expression:\"isShow\"}},[_c('div',{staticClass:\"container\"},[_c('el-form',{ref:\"filterForm\",staticClass:\"custom-report-form\",attrs:{\"model\":_vm.filters,\"label-position\":\"top\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"Năm\"}},[_c('el-date-picker',{staticClass:\"filter-select\",attrs:{\"type\":\"year\",\"format\":\"yyyy\",\"placeholder\":\"Chọn năm\",\"clearable\":\"\"},model:{value:(_vm.filters.kpiYear),callback:function ($$v) {_vm.$set(_vm.filters, \"kpiYear\", $$v)},expression:\"filters.kpiYear\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"Tháng\"}},[_c('el-select',{attrs:{\"placeholder\":\"Tháng\"},model:{value:(_vm.filters.kpiMonth),callback:function ($$v) {_vm.$set(_vm.filters, \"kpiMonth\", $$v)},expression:\"filters.kpiMonth\"}},_vm._l((12),function(item){return _c('el-option',{key:item,attrs:{\"label\":(\"Tháng \" + item),\"value\":item}})}),1)],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"Chỉ tiêu\"}},[_c('el-select',{staticClass:\"filter-select\",staticStyle:{\"margin-right\":\"20px\"},attrs:{\"placeholder\":\"Chỉ tiêu\"},model:{value:(_vm.filters.kpiCode),callback:function ($$v) {_vm.$set(_vm.filters, \"kpiCode\", $$v)},expression:\"filters.kpiCode\"}},_vm._l((_vm.chitieu),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Khu vực\"}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"size\":\"large\",\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"Tìm khu vực\",\"remote-method\":function (query) { return _vm.remoteMethod('areas', query); },\"loading\":_vm.isLoading,\"disabled\":_vm.disable.area},on:{\"change\":function (id) { return _vm.handleChange('change', 'areas', id); },\"remove-tag\":function (id) { return _vm.handleChange('remove', 'areas', id); },\"clear\":function (id) { return _vm.handleChange('clear', 'areas', id); }},model:{value:(_vm.filters.areaIdArray),callback:function ($$v) {_vm.$set(_vm.filters, \"areaIdArray\", $$v)},expression:\"filters.areaIdArray\"}},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadAreas),expression:\"loadAreas\"}]},_vm._l((_vm.dataSelect.areas),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)])],1),_c('el-form-item',{attrs:{\"label\":\"Chi nhánh\"}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"size\":\"large\",\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"Tìm chi nhánh\",\"remote-method\":function (query) { return _vm.remoteMethod('branches', query); },\"loading\":_vm.isLoading,\"disabled\":_vm.disable.branch},on:{\"change\":function (id) { return _vm.handleChange('change', 'branches', id); },\"remove-tag\":function (id) { return _vm.handleChange('remove', 'branches', id); },\"clear\":function (id) { return _vm.handleChange('clear', 'branches', id); }},model:{value:(_vm.filters.branchIdArray),callback:function ($$v) {_vm.$set(_vm.filters, \"branchIdArray\", $$v)},expression:\"filters.branchIdArray\"}},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadBranches),expression:\"loadBranches\"}]},_vm._l((_vm.dataSelect.branches),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.locationCode + ' - ' + item.name,\"value\":item.id}})}),1)])],1),_c('el-form-item',{attrs:{\"label\":\"Đơn vị kinh doanh\"}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"size\":\"large\",\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"Tìm đơn vị kinh doanh\",\"remote-method\":function (query) { return _vm.remoteMethod('offices', query); },\"loading\":_vm.isLoading,\"disabled\":_vm.disable.office},on:{\"change\":function (id) { return _vm.handleChange('change', 'offices', id); },\"remove-tag\":function (id) { return _vm.handleChange('remove', 'offices', id); },\"clear\":function (id) { return _vm.handleChange('clear', 'offices', id); }},model:{value:(_vm.filters.transOfficeIdArray),callback:function ($$v) {_vm.$set(_vm.filters, \"transOfficeIdArray\", $$v)},expression:\"filters.transOfficeIdArray\"}},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadOffices),expression:\"loadOffices\"}]},_vm._l((_vm.dataSelect.offices),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.locationCode + ' - ' + item.name,\"value\":item.id}})}),1)])],1),_c('el-form-item',{attrs:{\"label\":\"CBNV\"}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"size\":\"large\",\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"Cán bộ nhân viên\",\"remote-method\":function (query) { return _vm.remoteMethod('members', query); },\"loading\":_vm.isLoading,\"disabled\":_vm.disable.member},on:{\"change\":function (id) { return _vm.handleChange('change', 'members', id); },\"remove-tag\":function (id) { return _vm.handleChange('remove', 'members', id); },\"clear\":function (id) { return _vm.handleChange('clear', 'members', id); }},model:{value:(_vm.filters.memberIdArray),callback:function ($$v) {_vm.$set(_vm.filters, \"memberIdArray\", $$v)},expression:\"filters.memberIdArray\"}},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMembers),expression:\"loadMembers\"}]},_vm._l((_vm.dataSelect.members),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.memberNo + ' - ' + item.fullName,\"value\":item.id}})}),1)])],1),_c('el-form-item',{attrs:{\"label\":\"Tỷ lệ hoàn thành\"}},[_c('el-select',{staticClass:\"filter-select\",attrs:{\"placeholder\":\"Tất cả\"},model:{value:(_vm.filters.resultPercent),callback:function ($$v) {_vm.$set(_vm.filters, \"resultPercent\", $$v)},expression:\"filters.resultPercent\"}},[_c('el-option',{attrs:{\"value\":\"0\",\"label\":\"Tất cả\"}}),_c('el-option',{attrs:{\"value\":\"1\",\"label\":\"Từ 0% - 50%\"}}),_c('el-option',{attrs:{\"value\":\"2\",\"label\":\"Từ 50% - 75%\"}}),_c('el-option',{attrs:{\"value\":\"3\",\"label\":\"Từ 75% - 100%\"}}),_c('el-option',{attrs:{\"value\":\"4\",\"label\":\"Từ 100% - 130%\"}}),_c('el-option',{attrs:{\"value\":\"5\",\"label\":\"Trên 130%\"}})],1)],1)],1)],1)],1)],1),_c('div',{staticClass:\"text-right footer\"},[_c('el-button',{staticClass:\"group-filter-button\",on:{\"click\":function($event){return _vm.handleSubmit('reset')}}},[_vm._v(\"Mặc định\")]),_c('el-button',{staticClass:\"be-button-danger group-filter-button\",on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Áp dụng\")])],1),_c('div',{staticClass:\"cursor text-filter\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('base-icon',{attrs:{\"icon\":\"filter\"}}),_vm._v(\"Bộ lọc\")],1)])],1),_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom-end\",\"hide-timeout\":500},on:{\"command\":_vm.handleCommand}},[_c('el-button',{staticClass:\"be-button-unset custom-button text-filter\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"sort\"}}),_vm._v(\" Sắp xếp \")],1),_c('el-dropdown-menu',{staticClass:\"custom-report-dropdown\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.sorts),function(value,index){return _c('el-dropdown-item',{key:index,class:{ active: _vm.sortType === value.command },attrs:{\"command\":value.command,\"divided\":value.divided}},[_c('span',{staticClass:\"be-flex\"},[_c('span',{staticClass:\"be-flex-item\"},[_vm._v(\" \"+_vm._s(value.label)+\" \")])])])}),1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PopupMixin from '@/mixins/popup'\nimport { assign, trim, debounce, size, isEmpty } from 'lodash'\nimport { Component, Mixins, Prop, Watch } from 'vue-property-decorator'\n// import { namespace } from 'vuex-class'\n// import FiltersPopup from './FilterPopupPl9i.vue'\nimport LocationRepository from '@/services/repositories/location'\nimport getRepository from '@/services'\nimport EmployeeRepository from '@/services/repositories/employee'\nimport RoleKpiMixin from '../../mixins/roleKpi'\nimport { namespace } from 'vuex-class'\n// const beReport = namespace('beReport')\nconst beAudit = namespace('beAudit')\n\n@Component({ components: {} })\nexport default class FilterPl9l extends Mixins(PopupMixin, RoleKpiMixin) {\n  @Prop({ required: false, type: String, default: 'Tìm kiếm...' }) searchPlaceholder!: string\n  @beAudit.Action('setReportFilter') setReportFilter!: (data: { contract: string; filters: Record<string, any>; data: Record<string, any> }) => void\n  @beAudit.Getter('getFilter') getFilter!: (rerport: string) => { contract: string; filters: Record<string, any>; data: Record<string, any> }\n\n  locationRes: LocationRepository | undefined = undefined\n  apiEmployee!: EmployeeRepository\n\n  isShow = false\n  search = ''\n  groupFilters: Record<string, any> = {\n    kpiMonth: new Date().getMonth() + 1,\n    kpiYear: new Date().getFullYear(),\n    kpiCode: 'REVENUE_YEAR1'\n  }\n  filters: Record<string, any> = {\n    kpiMonth: new Date().getMonth() + 1,\n    kpiYear: new Date(),\n    kpiCode: 'REVENUE_YEAR1'\n  }\n\n  isLoading = false\n\n  chitieu = [\n    {\n      id: 0,\n      label: 'Chỉ tiêu doanh số FYP',\n      value: 'REVENUE_YEAR1'\n    }\n  ]\n\n  query: Record<string, any> = {\n    areas: {\n      i: 0,\n      ps: 20,\n      search: ''\n    },\n    branches: {\n      i: 0,\n      ps: 20,\n      search: ''\n    },\n    offices: {\n      i: 0,\n      ps: 20,\n      search: ''\n    },\n    members: { i: 0, ps: 20, limit: '', page: 1, search: '', statusAccount: 0, groupCode: 'INSURANCE', sort: 1 }\n  }\n\n  dataSelect: Record<string, any> = {\n    areas: [],\n    branches: [],\n    offices: [],\n    members: []\n  }\n  sortType = '' // BRANCH_ID_INCREASE, REVENUE_INCREASE, COMMISSION_INCREASE, BRANCH_ID_DECREASE, REVENUE_DECREASE, COMMISSION_DECREASE\n  disable = {\n    area: false,\n    branch: false,\n    office: false,\n    member: false\n  }\n  get sorts(): Array<Record<string, any>> {\n    return [\n      {\n        command: 1,\n        label: 'Đơn vị kinh doanh',\n        divided: false\n      },\n      {\n        command: 3,\n        label: 'Chỉ tiêu',\n        divided: true\n      },\n      {\n        command: 4,\n        label: 'Kết quả',\n        divided: false\n      },\n      {\n        command: 5,\n        label: 'Tỷ lệ hoàn thành',\n        divided: false\n      }\n    ]\n  }\n\n  get getScreen(): boolean {\n    return window.screen.availHeight <= 900\n  }\n  filter1 = 0\n  dataChange: Record<string, Array<Record<string, any>>> = {\n    areas: [],\n    branches: [],\n    offices: [],\n    members: []\n  }\n  checkChangOrRemove(type: string, code: string, item: Record<string, any>, id: number): void {\n    if (type === 'change') {\n      if (item) {\n        this.dataChange[code].push(item)\n        console.log(this.dataChange)\n      }\n    }\n    if (type == 'remove') {\n      if (this.dataChange[code] && this.dataChange[code].length > 0) {\n        let newList = this.dataChange[code].filter((el: Record<string, any>) => el.id != id)\n        this.dataChange[code] = newList\n      } else {\n        this.dataChange[code] = []\n      }\n    }\n  }\n  checkCode(type: string, code: string | any, id: number): void {\n    let item: Record<string, any> = {}\n    item = this.dataSelect[code].find((item: Record<string, any>) => item.id == id)\n    this.checkChangOrRemove(type, code, item, id)\n  }\n  handleChange(type: string, code: string | any, ids: Array<number>): void {\n    this.$forceUpdate()\n    const lastId = ids[ids.length - 1]\n    const stateFilter = this.getFilter(this.$route.name as string)\n    if (stateFilter?.data) {\n      this.dataChange = stateFilter?.data\n    }\n    if (type === 'clear') {\n      this.dataChange[code] = []\n    } else {\n      this.checkCode(type, code, lastId)\n    }\n  }\n\n  @Watch('search', { immediate: false }) watchSearch(new_: string): void {\n    this.searchText(new_)\n  }\n\n  searchText(value: string): void {\n    this.$emit(\n      'change',\n      assign(this.filters, {\n        keywordString: value,\n        orderByClause: this.sortType ? this.sortType : null\n      })\n    )\n    this.setReportFilter({\n      contract: this.$route?.name as string,\n      filters: assign(this.filters, {\n        keywordString: this.search,\n        orderByClause: this.sortType ? this.sortType : null\n      }),\n      data: this.getFilter(this.$route.name as string)?.data || {}\n    })\n  }\n\n  handleClick(): void {\n    this.isShow = true\n    //   this.setOpenPopup({\n    //     popupName: 'popup-filter-9i',\n    //     isOpen: true\n    //   })\n  }\n\n  handeChangeFilters(filters: Record<string, any>): void {\n    this.groupFilters = {\n      ...this.groupFilters,\n      ...filters\n    }\n    console.log('when submit groupFilters', this.groupFilters)\n    console.log('when submit filters', filters)\n    //   this.$emit(\n    //     'change',\n    //     assign(this.groupFilters, {\n    //       search: this.search,\n    //       sortType: this.sortType\n    //     })\n    //   )\n    //   this.setReportFilter({\n    //     report: this.type,\n    //     filters: assign(this.groupFilters, {\n    //       search: this.search,\n    //       sortType: this.sortType\n    //     })\n    //   })\n  }\n\n  handleCommand(command: string): void {\n    if (this.sortType === command) {\n      this.sortType = ''\n    } else {\n      this.sortType = command\n    }\n    this.setReportFilter({\n      contract: this.$route?.name as string,\n      filters: {\n        ...this.filters,\n        orderByClause: this.sortType\n      },\n      data: this.getFilter(this.$route.name as string)?.data || {}\n    })\n    this.$emit('change', {\n      ...this.filters,\n      orderByClause: this.sortType\n    })\n  }\n\n  init(): void {\n    if (this.roleSaleMember) {\n      this.disable.office = true\n      this.disable.area = true\n      this.disable.branch = true\n      this.disable.member = true\n      this.filters.memberIdArray = [this.memberLogin.id]\n    }\n    if (this.roleOfficeLeaderMember) {\n      this.disable.office = true\n      this.disable.area = true\n      this.disable.branch = true\n      this.filters.areaIdArray = [this.memberLogin.areaId]\n      this.filters.branchIdArray = [this.memberLogin.branchId]\n      this.filters.transOfficeIdArray = [this.memberLogin.transactionOfficeId]\n    }\n    if (this.roleBranchMember || this.roleBranchLeader) {\n      this.disable.area = true\n      this.disable.branch = true\n      this.filters.areaIdArray = [this.memberLogin.areaId]\n      this.filters.branchIdArray = [this.memberLogin.branchId]\n    }\n    // if (this.roleBranchLeader) {\n    //   this.disable.area = true\n    //   this.disable.branch = true\n    //   this.filters.branchIdArray = [this.memberLogin.branchId]\n    //   this.filters.areaIdArray = [this.memberLogin.areaId]\n    // }\n  }\n\n  created(): void {\n    this.locationRes = getRepository('location', {\n      districtId: this.districtId\n    })\n    this.apiEmployee = getRepository('employee', {\n      districtId: this.districtId\n    })\n    //@ts-ignore\n    const filters = this.getFilter(this.$route.name)\n    if (filters) {\n      this.filters = assign(this.filters, filters.filters)\n      this.search = this.filters.keywordString\n      this.sortType = this.filters.orderByClause\n    }\n    this.init()\n    this.$emit(\n      'change',\n      assign(this.filters, {\n        keywordString: this.search,\n        orderByClause: this.sortType ? this.sortType : null\n      })\n    )\n  }\n  async searchMembers(search: string, isAdd = false): Promise<any> {\n    try {\n      if (this.disable.member) {\n        const item = {\n          id: this.memberLogin.id,\n          memberNo: this.memberLogin.memberNo,\n          fullName: this.memberLogin.fullName\n        }\n        this.dataSelect.members.push(item)\n      } else {\n        const result = await this.apiEmployee?.getEmployeeList({\n          ...this.query.members,\n          search: trim(search)\n        })\n\n        if (isAdd) {\n          const a = result.data || []\n          this.dataSelect.members = [...this.dataSelect.members, ...a]\n        } else {\n          this.dataSelect.members = result.data || []\n        }\n        this.isLoading = false\n      }\n    } catch (error) {\n      this.isLoading = false\n      this.dataSelect.members = []\n      if (this.disable.member) {\n        this.dataSelect.members.push({\n          id: this.memberId,\n          memberNo: this.user.memberNo,\n          fullName: this.user.fullName\n        })\n      }\n    }\n  }\n  async searchArea(search: string, isAdd = false): Promise<any> {\n    try {\n      const result = await this.locationRes?.list('area', {\n        search: trim(search),\n        i: this.query.areas.i,\n        ps: this.query.areas.ps\n      })\n      if (isAdd) {\n        const a = result || []\n        this.dataSelect.areas = [...this.dataSelect.areas, ...a]\n      } else {\n        this.dataSelect.areas = result || []\n      }\n      if (this.disable.branch) {\n        this.dataSelect.areas.push({\n          id: this.memberLogin.areaId,\n          locationCode: this.memberLogin.areaCode,\n          name: this.memberLogin.areaName\n        })\n      }\n      this.isLoading = false\n    } catch (error) {\n      this.isLoading = false\n      this.dataSelect.areas = []\n      if (this.disable.branch) {\n        this.dataSelect.areas.push({\n          id: this.memberLogin.locationId,\n          locationCode: this.memberLogin.locationCode,\n          name: this.memberLogin.locationName\n        })\n      }\n    }\n  }\n\n  async searchBranch(search: string, isAdd = false): Promise<any> {\n    try {\n      if (this.disable.branch) {\n        this.dataSelect.branches.push({\n          id: this.memberLogin.branchId,\n          locationCode: this.memberLogin.branchCode,\n          name: this.memberLogin.branchName\n        })\n      } else {\n        const result = await this.locationRes?.list('branch', {\n          search: trim(search),\n          i: this.query.branches.i,\n          ps: this.query.branches.ps\n        })\n\n        if (isAdd) {\n          const a = result || []\n          this.dataSelect.branches = [...this.dataSelect.branches, ...a]\n        } else {\n          this.dataSelect.branches = result || []\n        }\n\n        this.isLoading = false\n      }\n    } catch (error) {\n      this.isLoading = false\n      this.dataSelect.branches = []\n      if (this.disable.branch) {\n        this.dataSelect.branches.push({\n          id: this.memberLogin.branchId,\n          locationCode: this.memberLogin.branchCode,\n          name: this.memberLogin.branchName\n        })\n      }\n    }\n  }\n\n  async searchOffice(search: string, isAdd = false): Promise<any> {\n    try {\n      if (this.disable.office) {\n        this.dataSelect.offices.push({\n          id: this.memberLogin.transactionOfficeId,\n          locationCode: this.memberLogin.transactionOfficeCode,\n          name: this.memberLogin.transactionOfficeName\n        })\n      } else {\n        const result = await this.locationRes?.list('office', {\n          search: trim(search),\n          i: this.query.offices.i,\n          ps: this.query.offices.ps\n        })\n\n        if (isAdd) {\n          const a = result || []\n          this.dataSelect.offices = [...this.dataSelect.offices, ...a]\n        } else {\n          this.dataSelect.offices = result || []\n        }\n\n        this.isLoading = false\n      }\n    } catch (error) {\n      this.isLoading = false\n      this.dataSelect.offices = []\n      if (this.disable.office) {\n        this.dataSelect.offices.push({\n          id: this.memberLogin.locationId,\n          locationCode: this.memberLogin.locationCode,\n          name: this.memberLogin.locationName\n        })\n      }\n    }\n  }\n  async handleShowPopper(): Promise<any> {\n    this.$forceUpdate()\n    const filters = this.getFilter(this.$route?.name as string)\n    if (filters && filters.data) {\n      console.log('show', filters.data)\n\n      this.dataSelect = { ...this.dataSelect, ...filters.data }\n    }\n    await Promise.all([this.searchArea(''), this.searchBranch(''), this.searchOffice(''), this.searchMembers('')])\n  }\n  resetData(): void {\n    //@ts-ignore\n    this.$refs.filterForm.clearValidate()\n    this.filters.resultPercent = ''\n    if (this.roleSaleMember || this.roleOfficeLeaderMember || this.roleBranchMember || this.roleBranchLeader) {\n      if (this.roleSaleMember) {\n        this.filters.areaIdArray = []\n        this.filters.branchIdArray = []\n        this.filters.transOfficeIdArray = []\n      }\n      if (this.roleOfficeLeaderMember) {\n        this.filters.memberIdArray = []\n      }\n      if (this.roleBranchMember || this.roleBranchLeader) {\n        this.filters.transOfficeIdArray = []\n        this.filters.memberIdArray = []\n      }\n    } else {\n      this.filters = {\n        kpiMonth: new Date().getMonth() + 1,\n        kpiYear: new Date(),\n        kpiCode: 'REVENUE_YEAR1',\n        keywordString: this.search ? this.search : null,\n        orderByClause: this.sortType ? this.sortType : null\n      }\n    }\n  }\n\n  remoteMethod(type: string, query: string): void {\n    this.isLoading = true\n    this.query[type].search = trim(query)\n    this.query[type].i = 0\n    this.query[type].ps = 20\n    let a: any\n    switch (type) {\n      case 'areas':\n        a = debounce(this.searchArea, 500)\n        break\n      case 'branches':\n        a = debounce(this.searchBranch, 500)\n        break\n      case 'members':\n        a = debounce(this.searchMembers, 500)\n        break\n      case 'offices':\n        a = debounce(this.searchOffice, 500)\n        break\n      default:\n        break\n    }\n    a(query)\n  }\n  loadAreas(): void {\n    if (size(this.dataSelect.areas) === this.query.areas.i + this.query.areas.ps) {\n      this.query.areas.i = size(this.dataSelect.areas)\n      const a = debounce(this.searchArea, 500)\n      a(this.query.areas.search, true)\n    }\n  }\n\n  loadBranches(): void {\n    if (size(this.dataSelect.branches) === this.query.branches.i + this.query.branches.ps) {\n      this.query.branches.i = size(this.dataSelect.branches)\n      const a = debounce(this.searchBranch, 500)\n      a(this.query.branches.search, true)\n    }\n  }\n  loadOffices(): void {\n    console.log(1)\n    if (size(this.dataSelect.offices) === this.query.offices.i + this.query.offices.ps) {\n      this.query.offices.i = size(this.dataSelect.offices)\n      const a = debounce(this.searchOffice, 500)\n      a(this.query.offices.search, true)\n    }\n  }\n  loadMembers(): void {\n    if (size(this.dataSelect.members) === this.query.members.i + this.query.members.ps) {\n      this.query.members.i = size(this.dataSelect.members)\n      const a = debounce(this.searchMembers, 500)\n      a(this.query.members.search, true)\n    }\n  }\n  handleSubmit(type: 'reset' | 'submit'): void {\n    if (type === 'reset') {\n      this.resetData()\n      return\n    }\n    this.isShow = false\n    this.setReportFilter({\n      contract: this.$route?.name as string,\n      filters: {\n        ...this.filters\n      },\n      data: this.dataChange\n    })\n    console.log('submit', this.dataChange)\n\n    this.$emit('change', this.filters)\n  }\n  handleChangeKpiCode(): void {\n    // this.$emit('change', this.filters)\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPl9l.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPl9l.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterPl9l.vue?vue&type=template&id=1cc027bd&scoped=true&\"\nimport script from \"./FilterPl9l.vue?vue&type=script&lang=ts&\"\nexport * from \"./FilterPl9l.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FilterPl9l.vue?vue&type=style&index=0&id=1cc027bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cc027bd\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PaginationInterface } from '@/interface'\nimport getRepository from '@/services'\nimport { Pl9bReportEntity } from '@/services/entities/report'\nimport ReportRepository from '@/services/repositories/report'\nimport { assign, forEach, includes, debounce } from 'lodash'\nimport { Component, Mixins } from 'vue-property-decorator'\nimport { namespace } from 'vuex-class'\nimport ReportFilter from '../components/filters/FilterPl9l.vue'\nimport ExportMixin from '../mixins/exportsKpi'\nimport RoleKpiMixin from '../mixins/roleKpi'\nconst beAudit = namespace('beAudit')\n\n@Component({ components: { ReportFilter } })\nexport default class Pl9lReport extends Mixins(ExportMixin, RoleKpiMixin) {\n  @beAudit.Getter('getFilter') getFilter!: (rerport: string) => { contract: string; filters: Record<string, any> }\n\n  data: any = []\n\n  filters: Record<string, any> = {\n    kpiMonth: new Date().getMonth() + 1,\n    kpiYear: new Date(),\n    kpiCode: 'REVENUE_YEAR1'\n  }\n\n  table: PaginationInterface = {\n    total: 0,\n    page: 1,\n    limit: 20\n  }\n\n  isLoading = false\n\n  tableHeight: string | number = 'auto'\n\n  reportRes: ReportRepository | undefined = undefined\n\n  summary: Record<string, any> = {}\n\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  indexMethod(index: number): number {\n    return this.table.limit * (this.table.page - 1) + index\n  }\n  handleLoad(tree: Pl9bReportEntity, treeNode: unknown, resolve: (args: any) => void): void {\n    setTimeout(async () => {\n      resolve([])\n    }, 500)\n  }\n\n  async init(): Promise<void> {\n    try {\n      this.isLoading = true\n      //@ts-ignore\n      // const filters = this.getFilter(this.$route.name)\n      // if (filters) {\n      //   this.filters = assign(this.filters, filters.filters)\n      // }\n      let params = {\n        ...this.filters\n      }\n      if (this.roleSaleMember) {\n        delete params.memberIdArray\n      }\n      if (this.roleOfficeLeaderMember) {\n        delete params.areaIdArray\n        delete params.branchIdArray\n        delete params.transOfficeIdArray\n      }\n      if (this.roleBranchMember || this.roleBranchLeader) {\n        delete params.areaIdArray\n        delete params.branchIdArray\n      }\n      // if (this.roleBranchLeader) {\n      //   delete params.areaIdArray\n      //   delete params.branchIdArray\n      // }\n      this.getSummary(params)\n      this.getData(params)\n      this.isLoading = false\n    } catch (error) {\n      this.isLoading = false\n    }\n  }\n\n  summaryMethod(params: { columns: any; data: Pl9bReportEntity[] }): any[] {\n    const { columns } = params\n\n    const sums: any[] = []\n    forEach(columns, (column, index: number) => {\n      if (index < 4) {\n        sums[index] = ''\n        return\n      }\n      if (index === 4) {\n        sums[index] = 'Tổng'\n        return\n      }\n      const a = this.summary[column.property] || 0\n\n      //@ts-ignore\n      sums[index] = `${includes(column.property, 'Percent') ? this.$options.filters.formatPercent(a) : this.$options.filters.formatNumber(a)}`\n    })\n    return sums\n  }\n  async getData(params: Record<string, any>): Promise<void> {\n    try {\n      const data = await this.reportRes?.getReportByType(\n        'member',\n        assign(params, {\n          pageSize: this.table.limit,\n          pageNo: this.table.page\n        })\n      )\n      this.data = data || []\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  async getSummary(params: Record<string, any>): Promise<void> {\n    try {\n      const result = await this.reportRes?.getSummaryByType(\n        'member',\n        assign(params, {\n          pageSize: this.table.limit,\n          pageNo: this.table.page\n        })\n      )\n\n      this.summary = result || {}\n      this.table.total = this.summary?.total\n\n      console.log('result', result)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  handleSizeChange(val: number): void {\n    this.table.limit = val\n    this.table.page = 1\n    this.init()\n    // this.getSummary()\n  }\n\n  handleCurrentChange(val: number): void {\n    this.table.page = val\n    this.init()\n    // this.getSummary()\n  }\n\n  handleFiltersChange(filters: Record<string, any>): void {\n    this.filters = {\n      ...filters\n    }\n    this.table.page = 1\n    this.debounceFilter()\n  }\n\n  debounceFilter = debounce(() => {\n    this.init()\n    // this.getSummary()\n  }, 600)\n\n  getHeightOfTable(): void {\n    this.tableHeight = `${window.innerHeight - 233}px`\n  }\n\n  mounted(): void {\n    // this.init()\n    this.getHeightOfTable()\n  }\n\n  created(): void {\n    this.reportRes = getRepository('report', {\n      districtId: this.districtId\n    })\n\n    // this.getSummary()\n  }\n  handleExportFile(type: any, format: any, filters: Record<string, any>, table?: Record<string, any>): void {\n    if (this.data.length === 0) {\n      this.$message.error('Không tìm thấy dữ  liệu xuất file')\n    } else {\n      let params = {\n        ...this.filters\n      }\n      if (this.roleSaleMember) {\n        delete params.memberIdArray\n      }\n      if (this.roleOfficeLeaderMember) {\n        delete params.areaIdArray\n        delete params.branchIdArray\n        delete params.transOfficeIdArray\n      }\n      if (this.roleBranchMember || this.roleBranchLeader) {\n        delete params.areaIdArray\n        delete params.branchIdArray\n      }\n      this.handleExport(type, format, params, table)\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pl9lReport.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pl9lReport.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pl9lReport.vue?vue&type=template&id=509c9c59&scoped=true&\"\nimport script from \"./Pl9lReport.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pl9lReport.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Pl9lReport.vue?vue&type=style&index=0&id=509c9c59&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"509c9c59\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pl9lReport.vue?vue&type=style&index=0&id=509c9c59&lang=scss&scoped=true&\""],"sourceRoot":""}
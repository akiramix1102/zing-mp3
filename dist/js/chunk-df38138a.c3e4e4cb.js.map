{"version":3,"sources":["webpack:///./src/modules/customer/components/popup/PopupAddUploadFile.vue?4505","webpack:///./src/modules/customer/components/popup/PopupAddUploadFile.vue?749e","webpack:///./src/modules/customer/components/popup/PopupAddUploadFile.vue","webpack:///./src/modules/customer/components/popup/PopupAddUploadFile.vue?794e","webpack:///./src/modules/customer/components/popup/PopupAddUploadFile.vue?e131","webpack:///./src/modules/deals/views/DealPage.vue?6bd3","webpack:///./src/modules/deals/views/DealPage.vue","webpack:///./src/modules/deals/views/DealPage.vue?ea2d","webpack:///./src/modules/deals/views/DealPage.vue?10d8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","handleOpen","handleClose","slot","_v","fileList","handleChangeFile","_l","file","key","uid","_s","name","on","$event","handleDeleteFile","_e","handleAddFile","staticRenderFns","beUser","dataInput","attachFiles","formData","FormData","status","type","raw","push","append","percentage","processFunction","progressEvent","progress","loaded","total","data","apiUpload","uploadFile","result","index","item","url","success","length","idUpload","$route","api","then","res","$message","$emit","catch","e","console","log","uploadFileDeal","idUploadDeal","setOpenPopup","popupName","isOpen","districtId","user","districts","id","State","components","component","class","classDeal","showCustomer","ref","isLoading","table","filters","handleSelection","handleSizeChange","handleCurrentChange","handleFiltersChange","handleRowClick","scopedSlots","_u","fn","events","dataSelect","handleClickOpenAction","btnAddSingle","renderIndex","sc","hideAction","nativeOn","handleConflictClick","apply","arguments","row","handleOpenPopupNote","customerId","getStatus","dealStatus","salesMemberId","salesAvatar","salesFullName","salesMemberNo","customerAvatar","customerFullName","_f","dealValue","closeDate","probability","handleOpenAddDeal","dataPopup","init","handleConfirm","dataRow","idCustomer","handleCreateNote","loadData","beDeal","page","limit","title","code","isConflictClick","dealId","path","includes","value","post","apiDeal","createNote","description","content","params","$refs","tableDeal","clearSelection","deleteDealOrCusById","toString","err","error","message","assignDeal","filter","setDealFilter","dealName","dataChange","$router","view","param","getData","totalElements","$on","Action","Getter","DealFilter","CreateDeal","PopupConfirmDeal","PopupConfirm","PopupNote","AppointCustomer","PopupAddUploadFile"],"mappings":"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","file":"js/chunk-df38138a.c3e4e4cb.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAddUploadFile.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-popup',{staticClass:\"addUploadFile\",attrs:{\"name\":\"add-upload-file\",\"open\":_vm.handleOpen,\"close\":_vm.handleClose,\"hiddenFooter\":true,\"width\":\"520px\",\"top\":\"5vh\"}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Thêm file tài liệu\")]),_c('el-upload',{staticClass:\"upload body-Upload\",attrs:{\"drag\":\"\",\":file-list\":_vm.fileList,\"on-change\":_vm.handleChangeFile,\"auto-upload\":false,\"show-file-list\":false,\"action\":\"\",\"multiple\":\"\"}},[_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"Kéo thả file hoặc\"),_c('em',[_vm._v(\" Chọn từ máy tính\")])])]),(_vm.fileList.length)?_c('div',{staticClass:\"list-file\"},_vm._l((_vm.fileList),function(file){return _c('div',{key:file.uid,staticClass:\"flex jc-space-between file-item\"},[_c('div',{staticClass:\"left\"},[_c('p',[_vm._v(_vm._s(file.name))])]),_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.handleDeleteFile(file.uid)}}},[_c('base-icon',{staticClass:\"icon-action cursor\",attrs:{\"icon\":\"delete\"}})],1)])}),0):_vm._e(),_c('template',{slot:\"footer\"},[_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"bt-top flex\"},[_c('div',{staticClass:\"bt-center\"},[_c('el-button',{staticClass:\"group-button-cencel\",on:{\"click\":_vm.handleClose}},[_vm._v(\"Hủy\")]),(_vm.fileList.length)?_c('el-button',{staticClass:\"be-btn-danger group-button-save\",on:{\"click\":_vm.handleAddFile}},[_vm._v(\"Thêm\")]):_vm._e()],1)])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PopupMixin from '@/mixins/popup'\nimport { Component, Mixins, Prop } from 'vue-property-decorator'\nimport { namespace } from 'vuex-class'\nimport getRepository from '@/services'\nimport CategoryRepository from '@/services/repositories/category'\nimport UploadRepository from '@/services/repositories/upload'\nimport { findIndex, filter } from 'lodash'\nconst beUser = namespace('beUser')\n@Component({ components: {} })\nexport default class CreateUnit extends Mixins(PopupMixin) {\n  @beUser.State('user') user?: Record<string, any>\n  @Prop() idUpload: any\n  @Prop() idUploadDeal: any\n  apiUpload!: UploadRepository\n  api!: CategoryRepository\n  fileList: any = []\n  dataInput: any = {\n    attachFiles: []\n  }\n  async handleChangeFile(file: Record<string, any>): Promise<void> {\n    const formData = new FormData()\n    if (file.status === 'ready') {\n      file.type = file.raw.type\n      // const newFile: Record<string, any> = {}\n      // newFile.name = file.name\n      // newFile.size = file.raw.size\n      this.fileList.push(file)\n      formData.append('files', file.raw)\n      // formData.append('name', file.name)\n      file.percentage = 1\n      const processFunction = function (progressEvent: any) {\n        let progress = (progressEvent.loaded / progressEvent.total) * 100\n        file.percentage = progress\n      }\n      const data: Record<string, any> = {}\n      data.data = formData\n      data.progress = processFunction\n      const uid = file.uid\n      const result = await this.apiUpload.uploadFile(data)\n      const index = findIndex(this.fileList, (item: Record<string, any>) => item.uid === uid)\n      this.fileList[index].url = result.success[0].url\n    }\n  }\n\n  handleDeleteFile(uid: number): void {\n    this.fileList = filter(this.fileList, (item: Record<string, any>) => item.uid !== uid)\n  }\n\n  handleAddFile(): void {\n    if (this.fileList.length) {\n      this.dataInput.attachFiles = [...this.fileList]\n    }\n    if ((this.idUpload && this.$route.name == 'customer') || this.$route.name == 'customerNewsfeed') {\n      this.api\n        ?.uploadFile(this.idUpload, this.dataInput)\n        .then((res: any) => {\n          this.$message.success('Upload file thành công')\n          this.fileList = []\n          this.$emit('load')\n          this.handleClose()\n        })\n        .catch(e => {\n          console.log(e)\n        })\n    } else {\n      this.api\n        ?.uploadFileDeal(this.idUploadDeal, this.dataInput)\n        .then((res: any) => {\n          this.$message.success('Upload file thành công')\n          this.fileList = []\n          this.$emit('load')\n          this.handleClose()\n        })\n        .catch(e => {\n          console.log(e)\n        })\n    }\n  }\n  handleOpen(): void {\n    console.log('test id bên khách hàng', this.idUpload)\n    console.log('test id dell', this.idUploadDeal)\n    console.log('route', this.$route)\n  }\n  handleClose(): void {\n    this.fileList = []\n    // this.idUpload = null\n    // this.idUploadDeal = null\n    this.setOpenPopup({\n      popupName: 'add-upload-file',\n      isOpen: false\n    })\n  }\n  created(): void {\n    this.apiUpload = getRepository('upload', {\n      districtId: this.user?.districts?.[0].id\n    })\n    this.api = getRepository('category', {\n      districtId: this.user?.districts?.[0].id\n    })\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAddUploadFile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupAddUploadFile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PopupAddUploadFile.vue?vue&type=template&id=4de61d2c&\"\nimport script from \"./PopupAddUploadFile.vue?vue&type=script&lang=ts&\"\nexport * from \"./PopupAddUploadFile.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PopupAddUploadFile.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classDeal},[(!_vm.showCustomer)?_c('base-table',{ref:\"tableDeal\",attrs:{\"data\":_vm.data,\"isLoading\":_vm.isLoading,\"table\":_vm.table,\"filters\":_vm.filters,\"showPagination\":true,\"paginationInfo\":\"cơ hội\",\"rowKey\":\"id\",\"emptyText\":\"Không có dữ liệu cơ hội bán hàng\"},on:{\"selectionChange\":_vm.handleSelection,\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange,\"filterChange\":_vm.handleFiltersChange,\"rowClick\":_vm.handleRowClick},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar filters = ref.filters;\nvar events = ref.events;\nreturn _c('div',{staticClass:\"be-flex align-center header\"},[_c('deal-filter',{staticClass:\"be-flex-item\",attrs:{\"filters\":filters,\"isPipeline\":false},on:{\"change\":events}}),_c('div',{staticClass:\"actions\"},[(_vm.dataSelect.length > 0)?_c('el-dropdown',{staticClass:\"batch-action\",attrs:{\"size\":\"medium\",\"split-button\":\"\",\"placement\":\"bottom-end\"},on:{\"command\":function($event){return _vm.handleClickOpenAction({ status: 'assign-batch', id: '' })}}},[_vm._v(\" Thao tác \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"Gán phụ trách\")])],1)],1):_vm._e(),_c('el-dropdown',{staticClass:\"custom-button\",attrs:{\"size\":\"medium\",\"split-button\":\"\"},on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'add', id: '' })}}},[_vm._v(\" Thêm mới \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"Thêm mới từ Excel\")])],1)],1),(!_vm.btnAddSingle)?_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":false}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"excel-fullcolor\"}}),_vm._v(\" Xuất Excel \")],1)]):_vm._e()],1)],1)}}],null,false,2413951413)},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"61\",\"label\":\"#\",\"index\":_vm.renderIndex,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"Tên cơ hội\",\"prop\":\"name\",\"min-width\":\"260px\"}}),_c('el-table-column',{attrs:{\"width\":\"40px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_c('el-popover',{attrs:{\"placement\":\"bottom\",\"popper-class\":\"popper-action-deal\"},on:{\"hide\":_vm.hideAction},nativeOn:{\"click\":function($event){return _vm.handleConflictClick.apply(null, arguments)}}},[_c('div',{staticClass:\"be-flex-column content\"},[_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'edit', id: sc.row.id })}}},[_c('span',[_vm._v(\"Sửa thông tin\")])]),_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'assign', id: sc.row.id, data: sc.row })}}},[_c('span',[_vm._v(\"Gán phụ trách\")])]),_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleOpenPopupNote(sc.row)}}},[_c('span',[_vm._v(\"Ghi chú\")])]),_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'createCalen', data: sc.row, id: sc.row.customerId })}}},[_c('span',[_vm._v(\"Tạo lịch hẹn\")])]),_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'uploadFile', id: sc.row.id })}}},[_c('span',[_vm._v(\"Upload tài liệu\")])]),_c('div',{staticClass:\"content-item cursor\",on:{\"click\":function($event){return _vm.handleClickOpenAction({ status: 'delete', id: sc.row.id })}}},[_c('span',[_vm._v(\"Xóa cơ hội\")])])]),_c('div',{staticClass:\"reference\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('i',{staticClass:\"el-icon-more\"})])])]}}],null,false,3831815525)}),_c('el-table-column',{attrs:{\"label\":\"tRẠNG THÁI\",\"prop\":\"dealStatus\",\"min-width\":\"164px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm.getStatus(sc.row.dealStatus))+\" \")]}}],null,false,3135767718)}),_c('el-table-column',{attrs:{\"label\":\"Nhân viên phụ trách\",\"prop\":\"salesFullName\",\"min-width\":\"264px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_c('el-row',{staticClass:\"flex row-avt\"},[_c('el-col',{staticClass:\"flex\"},[(sc.row.salesMemberId && sc.row.salesAvatar)?_c('el-avatar',{attrs:{\"src\":sc.row.salesAvatar,\"fit\":\"cover\",\"size\":\"small\"}}):_c('base-icon',{staticClass:\"avatar__imployee--defalt\",attrs:{\"icon\":\"icon-avatar-default\"}})],1),_c('el-col',[_c('p',{staticClass:\"checkLength\"},[_vm._v(_vm._s(sc.row.salesFullName))]),_c('small',{staticClass:\"small\"},[_vm._v(_vm._s(sc.row.salesMemberNo))])])],1)]}}],null,false,2534104968)}),_c('el-table-column',{attrs:{\"label\":\"Khách hàng\",\"prop\":\"customerFullName\",\"min-width\":\"220px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_c('el-row',{staticClass:\"flex row-avt\"},[_c('el-col',{staticClass:\"flex\"},[(sc.row.customerAvatar)?_c('el-avatar',{attrs:{\"src\":sc.row.customerAvatar,\"fit\":\"cover\",\"size\":\"small\"}}):_c('base-icon',{staticClass:\"avatar__imployee--defalt\",attrs:{\"icon\":\"icon-avatar-default\"}})],1),_c('el-col',[_c('p',{staticClass:\"checkLength\"},[_vm._v(_vm._s(sc.row.customerFullName))])])],1)]}}],null,false,3970414896)}),_c('el-table-column',{attrs:{\"label\":\"Giá trị\",\"prop\":\"dealValue\",\"min-width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(sc.row.dealValue))+\" \")]}}],null,false,2324791491)}),_c('el-table-column',{attrs:{\"label\":\"Ngày chốt\",\"prop\":\"closeDate\",\"min-width\":\"140px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDateTime\")(sc.row.closeDate))+\" \")]}}],null,false,1609157988)}),_c('el-table-column',{attrs:{\"label\":\"Giai đoạn\",\"prop\":\"currentStageName\",\"min-width\":\"140px\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"label\":\"Xác suất\",\"prop\":\"probability\",\"min-width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatPercent\")(sc.row.probability))+\" \")]}}],null,false,2348880977)})],1):_vm._e(),(_vm.showCustomer)?_c('base-table',{ref:\"tableDeal\",attrs:{\"data\":_vm.data,\"isLoading\":_vm.isLoading,\"table\":_vm.table,\"filters\":_vm.filters,\"showPagination\":true,\"paginationInfo\":\"cơ hội\",\"rowKey\":\"id\",\"emptyText\":\"Không có dữ liệu cơ hội bán hàng\"},on:{\"selectionChange\":_vm.handleSelection,\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange,\"filterChange\":_vm.handleFiltersChange,\"rowClick\":_vm.handleRowClick},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar filters = ref.filters;\nvar events = ref.events;\nreturn _c('div',{staticClass:\"be-flex align-center header\"},[_c('deal-filter',{staticClass:\"be-flex-item\",attrs:{\"filters\":filters,\"isPipeline\":false},on:{\"change\":events}}),_c('div',{staticClass:\"actions\"},[(_vm.dataSelect.length > 0)?_c('el-dropdown',{staticClass:\"batch-action\",attrs:{\"size\":\"medium\",\"split-button\":\"\",\"placement\":\"bottom-end\"},on:{\"command\":function($event){return _vm.handleClickOpenAction({ status: 'assign-batch', id: '' })}}},[_vm._v(\" Thao tác \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"Gán phụ trách\")])],1)],1):_vm._e(),_c('el-button',{staticClass:\"be-btn-danger\",on:{\"click\":_vm.handleOpenAddDeal}},[_vm._v(\"Thêm mới\")]),(!_vm.btnAddSingle)?_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":false}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"excel-fullcolor\"}}),_vm._v(\" Xuất Excel \")],1)]):_vm._e()],1)],1)}}],null,false,3240682884)},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"61\",\"label\":\"#\",\"index\":_vm.renderIndex,\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"Tên cơ hội\",\"prop\":\"name\",\"min-width\":\"280px\"}}),_c('el-table-column',{attrs:{\"label\":\"tRẠNG THÁI\",\"prop\":\"dealStatus\",\"min-width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm.getStatus(sc.row.dealStatus))+\" \")]}}],null,false,3135767718)}),_c('el-table-column',{attrs:{\"label\":\"Ngày chốt\",\"prop\":\"closeDate\",\"min-width\":\"132px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDateTime\")(sc.row.closeDate))+\" \")]}}],null,false,1609157988)}),_c('el-table-column',{attrs:{\"label\":\"Giá trị\",\"prop\":\"dealValue\",\"min-width\":\"132px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(sc.row.dealValue))+\" \")]}}],null,false,2324791491)}),_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [(sc.row.salesAvatar)?_c('el-avatar',{attrs:{\"src\":sc.row.salesAvatar,\"fit\":\"cover\",\"size\":\"small\"}}):_c('base-icon',{staticClass:\"avatar__imployee--defalt\",attrs:{\"icon\":\"icon-avatar-default\"}})]}}],null,false,3596675605)})],1):_vm._e(),(_vm.checkRouter)?_c('create-deal',{attrs:{\"dataProp\":_vm.dataPopup},on:{\"apply\":_vm.init,\"openDestroy\":_vm.handleClickOpenAction}}):_vm._e(),_c('popup-confirm-deal',{attrs:{\"dataProp\":_vm.dataPopup},on:{\"confirm\":_vm.handleConfirm}}),_c('appoint-customer',{attrs:{\"dataRows\":_vm.dataRow,\"idCustomer\":_vm.idCustomer}}),_c('popup-note',{attrs:{\"type\":_vm.type},on:{\"update\":_vm.handleCreateNote}}),_c('popup-add-upload-file',{attrs:{\"idUploadDeal\":_vm.idUploadDeal},on:{\"load\":_vm.loadData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PaginationInterface } from '@/interface'\nimport { Component, Mixins } from 'vue-property-decorator'\nimport DealFilter from '../components/filters/DealFilter.vue'\nimport getRepository from '@/services'\nimport DealRepository from '@/services/repositories/deal'\nimport CommonMixin from '@/mixins/commonMixin'\nimport { assign, includes, trim } from 'lodash'\nimport CreateDeal from '../components/popup/CreateDeal.vue'\nimport PopupMixin from '@/mixins/popup'\nimport PopupConfirmDeal from '../components/popup/PopupConfirm.vue'\nimport PopupNote from '@/modules/customer/components/popup/PopupNote.vue'\nimport AppointCustomer from '@/modules/customer/components/popup/AppointCustomer.vue'\nimport EventBus from '@/utils/eventBus'\nimport { namespace } from 'vuex-class'\nimport PopupAddUploadFile from '@/modules/customer/components/popup/PopupAddUploadFile.vue'\nconst beDeal = namespace('beDeal')\n@Component({ components: { DealFilter, CreateDeal, PopupConfirmDeal, PopupNote, AppointCustomer, PopupAddUploadFile } })\nexport default class DealPage extends Mixins(CommonMixin, PopupMixin) {\n  @beDeal.Action('setDealFilter') setDealFilter!: (data: { dealName: string; filters: Record<string, any>; data: Record<string, any> }) => void\n  @beDeal.Getter('getDealFilter') getDealFilter!: (dealName: string) => {\n    dealName: string\n    filters: Record<string, any>\n    data: Record<string, any>\n  }\n  data = []\n  isLoading = false\n  apiDeal!: DealRepository\n\n  filters: Record<string, any> = {}\n  table: PaginationInterface = {\n    total: 0,\n    page: 1,\n    limit: 20\n  }\n  dataPopup: any = {\n    title: '',\n    code: '',\n    id: '',\n    data: {},\n    dataSelect: []\n  }\n  dataRow: any = {\n    data: {}\n  }\n\n  idCustomer: string | number = ''\n  idUploadDeal: string | number = ''\n  // dataConfirm = {\n  //   code: '',\n  //   title: 'Xác nhận xóa',\n  //   content: 'Bạn có chắc chắn muốn xóa cơ hội bán hàng này?',\n  //   id: 0\n  // }\n  dataSelect: Array<Record<string, any>> = []\n  isConflictClick = false\n\n  dealId = 0\n  type = 'add'\n\n  get checkRouter(): boolean {\n    return !includes(this.$route.path, 'khach-hang')\n  }\n\n  get btnAddSingle(): boolean {\n    if (this.$route.path.includes('khach-hang')) {\n      return true\n    }\n    return false\n  }\n  get showCustomer(): boolean {\n    return this.$route.path.includes('khach-hang')\n  }\n  get classDeal(): string {\n    if (this.$route.path.includes('khach-hang')) {\n      return 'deal-page deal-customer'\n    }\n    return 'deal-page'\n  }\n  getStatus(value: string): string {\n    let status = ''\n    switch (value) {\n      case '1':\n        status = 'Đang làm việc'\n        break\n      case '2':\n        status = 'Thành công'\n        break\n\n      case '3':\n        status = 'Thất bại'\n        break\n\n      default:\n        status = ''\n        break\n    }\n    return status\n  }\n\n  handleOpenPopupNote(row: Record<string, any>): void {\n    this.dealId = row.id\n\n    this.setOpenPopup({\n      popupName: 'popup-note',\n      isOpen: true\n    })\n  }\n\n  handleCreateNote(post: Record<string, any>): void {\n    const type = 'DEAL'\n    this.apiDeal.createNote(type, { description: post.content, dealId: this.dealId }).then(() => {\n      this.$message.success('Tạo ghi chú thành công')\n      this.init()\n    })\n  }\n  loadData(): void {\n    this.init()\n  }\n  async handleConfirm(params?: Record<string, any>): Promise<any> {\n    //@ts-ignore\n    this.$refs.tableDeal?.clearSelection()\n    this.dataSelect = []\n    if (this.dataPopup.code == 'delete') {\n      if (this.dataPopup.id && this.dataPopup.id != 0) {\n        await this.apiDeal\n          .deleteDealOrCusById('sales-deals', trim(this.dataPopup.id.toString()))\n          .then(() => {\n            this.$message.success('Xóa thành công')\n            this.setOpenPopup({\n              popupName: 'popup-confirm-deal',\n              isOpen: false\n            })\n            this.init()\n          })\n          .catch(err => this.$message.error(err.message))\n      }\n    } else {\n      await this.apiDeal\n        .assignDeal('sales-deals', params)\n        .then(() => {\n          this.$message.success('Gán thành công')\n          this.setOpenPopup({\n            popupName: 'popup-confirm-deal',\n            isOpen: false\n          })\n          this.init()\n        })\n        .catch(err => this.$message.error(err.message))\n    }\n  }\n  handleSelection(value: Array<Record<string, any>>): void {\n    this.dataSelect = value\n  }\n  renderIndex(index: number): number {\n    return (this.table.page - 1) * this.table.limit + index + 1\n  }\n  handleSizeChange(limit: number): void {\n    this.table.limit = limit\n    this.init()\n  }\n  handleCurrentChange(page: number): void {\n    this.table.page = page\n    this.init()\n  }\n  handleFiltersChange(filter: Record<string, any>): void {\n    this.setDealFilter({\n      dealName: this.$route.name as string,\n      filters: filter,\n      data: filter.dataChange || {}\n    })\n    delete filter.dataChange\n    this.filters = filter\n\n    this.init()\n  }\n  handleConflictClick(): void {\n    this.isConflictClick = true\n  }\n  hideAction(): void {\n    this.isConflictClick = false\n  }\n  handleRowClick(row: Record<string, any>): void {\n    if (!this.isConflictClick) {\n      this.$router.push({\n        name: 'dealNewsfeed',\n        params: {\n          type: this.$route.params.type,\n          view: 'bang-tin',\n          id: row.row.id\n        }\n      })\n    }\n  }\n  handleClickOpenAction(params: { status: string; id: number; data?: Record<string, any> }): void {\n    const { status, id } = params\n    this.dataPopup.code = status\n    this.dataPopup.id = id\n\n    if (status.includes('assign') || status == 'delete') {\n      this.dataPopup.title = status == 'delete' ? 'Xác nhận xóa' : 'Gán Nhân viên phụ trách'\n      this.dataPopup.data = params?.data\n      this.dataPopup.dataSelect = this.dataSelect\n      this.setOpenPopup({\n        popupName: 'popup-confirm-deal',\n        isOpen: true\n      })\n    }\n    if (status == 'add' || status == 'edit') {\n      this.dataPopup.title = status == 'add' ? 'Thêm mới cơ hội bán hàng' : 'Sửa thông tin cơ hội bán hàng'\n      this.setOpenPopup({\n        popupName: 'create-deal',\n        isOpen: true\n      })\n    }\n\n    if (status == 'createCalen') {\n      this.idCustomer = id\n      this.dataRow = params?.data\n      console.log('dataDealPage', this.dataRow)\n      this.setOpenPopup({\n        popupName: 'appoint-customer',\n        isOpen: true\n      })\n    }\n    if (status == 'uploadFile') {\n      this.idUploadDeal = id\n      console.log('idUploadDeal', this.idUploadDeal)\n      this.setOpenPopup({\n        popupName: 'add-upload-file',\n        isOpen: true\n      })\n    }\n  }\n  async init(): Promise<any> {\n    this.isLoading = true\n    const param = assign(this.filters, this.table)\n    if (this.$route.path.includes('khach-hang')) {\n      param.customerId = this.$route.params.id\n    }\n    delete param.total\n    await this.apiDeal.getData('sales-deals', param).then(res => {\n      this.data = res.content\n      this.table.total = res.totalElements\n    })\n    this.isLoading = false\n  }\n  handleOpenAddDeal(): void {\n    EventBus.$emit('addDaalDetail')\n  }\n  created(): void {\n    this.apiDeal = getRepository('deal', {\n      districtId: this.districtId\n    })\n    //nhan event tu DealPage de khi them moi Deal reload lai data\n    EventBus.$on('reloadDetailHeader', () => {\n      this.init()\n    })\n    // this.init()\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DealPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DealPage.vue?vue&type=template&id=20ce572e&scoped=true&\"\nimport script from \"./DealPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./DealPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20ce572e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9b800de"],{"116a":function(t,e,a){},"14b4":function(t,e,a){"use strict";a("d0d6")},1522:function(t,e,a){},"181e":function(t,e,a){"use strict";a("1522")},"20d2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s}));var i=["image/png","image/jpeg","video/mp4","video/MP4V-ES","video/quicktime","video/x-flv","video/x-msvideo","video/x-ms-wmv"],s=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation"]},"48c2":function(t,e,a){},"567c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"search flex"},[a("base-icon",{staticClass:"icon-search",attrs:{icon:"search"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.valueSearch,expression:"valueSearch"}],staticClass:"searchBar",attrs:{type:"text",placeholder:"Tìm kiếm..."},domProps:{value:t.valueSearch},on:{input:function(e){e.target.composing||(t.valueSearch=e.target.value)}}})],1)},s=[],n=a("f3f3"),o=a("276c"),l=a("e954"),c=a("920b"),r=a("92a6"),u=(a("ac1f"),a("841c"),a("b0c0"),a("9ab4")),d=a("2ef0"),p=a("1b40"),h=a("4bb5"),m=Object(h["a"])("beAudit"),f=function(t){Object(c["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.valueSearch=t.search,t.searchText=Object(d["debounce"])((function(e){t.$emit("search",Object(d["trim"])(e))}),500),t}return Object(l["a"])(a,[{key:"handleSearch",value:function(t){var e;if(t!==this.search&&this.searchText(t),null!==(e=this.$route)&&void 0!==e&&e.name){var a=this.getFilter(this.$route.name);a?this.setReportFilter({contract:this.$route.name,filters:Object(n["a"])(Object(n["a"])({},a.filters),{},{search:Object(d["trim"])(t)})}):this.setReportFilter({contract:this.$route.name,filters:{search:Object(d["trim"])(t)}})}}},{key:"checkRoute",value:function(t){this.init(t)}},{key:"init",value:function(t){var e=this.getFilter(t.name);e&&e.filters?this.valueSearch=e.filters.search:this.valueSearch=""}}]),a}(p["d"]);Object(u["a"])([m.Getter("getFilter")],f.prototype,"getFilter",void 0),Object(u["a"])([m.Action("setReportFilter")],f.prototype,"setReportFilter",void 0),Object(u["a"])([Object(p["c"])({default:"",required:!1})],f.prototype,"search",void 0),Object(u["a"])([Object(p["e"])("valueSearch",{immediate:!1})],f.prototype,"handleSearch",null),Object(u["a"])([Object(p["e"])("$route")],f.prototype,"checkRoute",null),f=Object(u["a"])([Object(p["a"])({components:{}})],f);var v=f,b=v,C=(a("61d3"),a("2877")),g=Object(C["a"])(b,i,s,!1,null,"f42d5708",null);e["a"]=g.exports},"61d3":function(t,e,a){"use strict";a("48c2")},7461:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"addUploadFile",attrs:{name:"add-upload-file",open:t.handleOpen,close:t.handleClose,hiddenFooter:!0,width:"520px",top:"5vh"}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("Thêm file tài liệu")]),a("el-upload",{staticClass:"upload body-Upload",attrs:{drag:"",":file-list":t.fileList,"on-change":t.handleChangeFile,"auto-upload":!1,"show-file-list":!1,action:"",multiple:""}},[a("div",{staticClass:"el-upload__text"},[t._v("Kéo thả file hoặc"),a("em",[t._v(" Chọn từ máy tính")])])]),t.fileList.length?a("div",{staticClass:"list-file"},t._l(t.fileList,(function(e){return a("div",{key:e.uid,staticClass:"flex jc-space-between file-item"},[a("div",{staticClass:"left"},[a("p",[t._v(t._s(e.name))])]),a("div",{staticClass:"right",on:{click:function(a){return t.handleDeleteFile(e.uid)}}},[a("base-icon",{staticClass:"icon-action cursor",attrs:{icon:"delete"}})],1)])})),0):t._e(),a("template",{slot:"footer"},[a("div",{staticClass:"bottom"},[a("div",{staticClass:"bt-top flex"},[a("div",{staticClass:"bt-center"},[a("el-button",{staticClass:"group-button-cencel",on:{click:t.handleClose}},[t._v("Hủy")]),t.fileList.length?a("el-button",{staticClass:"be-btn-danger group-button-save",on:{click:t.handleAddFile}},[t._v("Thêm")]):t._e()],1)])])])],2)},s=[],n=a("d0ff"),o=a("c964"),l=a("276c"),c=a("e954"),r=a("920b"),u=a("92a6"),d=(a("b0c0"),a("96cf"),a("9ab4")),p=a("9f48"),h=a("1b40"),m=a("4bb5"),f=a("08ba"),v=a("2ef0"),b=Object(m["a"])("beUser"),C=function(t){Object(r["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(l["a"])(this,a),t=e.apply(this,arguments),t.fileList=[],t.dataInput={attachFiles:[]},t}return Object(c["a"])(a,[{key:"handleChangeFile",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,"ready"!==e.status){t.next=16;break}return e.type=e.raw.type,this.fileList.push(e),a.append("files",e.raw),e.percentage=1,i=function(t){var a=t.loaded/t.total*100;e.percentage=a},s={},s.data=a,s.progress=i,n=e.uid,t.next=13,this.apiUpload.uploadFile(s);case 13:o=t.sent,l=Object(v["findIndex"])(this.fileList,(function(t){return t.uid===n})),this.fileList[l].url=o.success[0].url;case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleDeleteFile",value:function(t){this.fileList=Object(v["filter"])(this.fileList,(function(e){return e.uid!==t}))}},{key:"handleAddFile",value:function(){var t,e,a=this;(this.fileList.length&&(this.dataInput.attachFiles=Object(n["a"])(this.fileList)),this.idUpload&&"customer"==this.$route.name||"customerNewsfeed"==this.$route.name)?null===(t=this.api)||void 0===t||t.uploadFile(this.idUpload,this.dataInput).then((function(t){a.$message.success("Upload file thành công"),a.fileList=[],a.$emit("load"),a.handleClose()})).catch((function(t){console.log(t)})):null===(e=this.api)||void 0===e||e.uploadFileDeal(this.idUploadDeal,this.dataInput).then((function(t){a.$message.success("Upload file thành công"),a.fileList=[],a.$emit("load"),a.handleClose()})).catch((function(t){console.log(t)}))}},{key:"handleOpen",value:function(){console.log("test id bên khách hàng",this.idUpload),console.log("test id dell",this.idUploadDeal),console.log("route",this.$route)}},{key:"handleClose",value:function(){this.fileList=[],this.setOpenPopup({popupName:"add-upload-file",isOpen:!1})}},{key:"created",value:function(){var t,e,a,i;this.apiUpload=Object(f["a"])("upload",{districtId:null===(t=this.user)||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[0].id}),this.api=Object(f["a"])("category",{districtId:null===(a=this.user)||void 0===a||null===(i=a.districts)||void 0===i?void 0:i[0].id})}}]),a}(Object(h["b"])(p["a"]));Object(d["a"])([b.State("user")],C.prototype,"user",void 0),Object(d["a"])([Object(h["c"])()],C.prototype,"idUpload",void 0),Object(d["a"])([Object(h["c"])()],C.prototype,"idUploadDeal",void 0),C=Object(d["a"])([Object(h["a"])({components:{}})],C);var g=C,O=g,y=(a("181e"),a("2877")),k=Object(y["a"])(O,i,s,!1,null,null,null);e["a"]=k.exports},c822:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"deleteGroup",attrs:{name:"delete-group",hiddenFooter:!0,width:"400px",closeClickModal:!1,"max-height:75vh":"",open:t.handleOpen,close:t.handleClose,top:"30vh"}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("Xóa khách hàng")]),a("div",{staticClass:"body-content"},[0==this.listId.length?a("div",[a("a",[t._v("Bạn có muốn xóa khách hàng '")]),t._v(t._s(this.customerFullName)+"' không?")]):a("div",[a("a",[t._v("Bạn có muốn xóa")]),t._v(" "+t._s(this.listId.length)+" khách hàng đã chọn không?")])]),a("template",{slot:"footer"},[a("div",{staticClass:"bottom"},[a("div",{staticClass:"bt-top flex"},[a("div",{staticClass:"bt-center"},[a("el-button",{staticClass:"group-button-cencel",on:{click:t.handleClose}},[t._v("Hủy")]),a("el-button",{staticClass:"be-btn-danger group-button-save",on:{click:t.handleSave}},[t._v("Xác nhận")])],1)])])])],2)},s=[],n=a("276c"),o=a("e954"),l=a("920b"),c=a("92a6"),r=a("9ab4"),u=a("1b40"),d=a("4bb5"),p=a("9f48"),h=a("08ba"),m=Object(d["a"])("beUser"),f=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.dataInput={customerIdNumbers:[]},t}return Object(o["a"])(a,[{key:"handleClose",value:function(){this.customerFullName="",this.dataInput.customerIdNumbers=[],this.setOpenPopup({popupName:"delete-group",isOpen:!1})}},{key:"handleOpen",value:function(){console.log("name",this.customerFullName),console.log("code",this.customerCifCode),console.log("list2",this.listId),0==this.listId.length?(console.log("k vao"),this.dataInput.customerIdNumbers.push(this.customerCifCode)):this.dataInput.customerIdNumbers=this.listId,console.log("input",this.dataInput)}},{key:"handleSave",value:function(){var t,e=this;null===(t=this.api)||void 0===t||t.deleteCustomer(this.dataInput).then((function(){e.$message.success("Xóa khách hàng thành công"),e.$emit("load"),e.handleClose()})).catch((function(t){e.$message.error(t.message)}))}},{key:"created",value:function(){var t,e;this.api=Object(h["a"])("category",{districtId:null===(t=this.user)||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[0].id})}}]),a}(Object(u["b"])(p["a"]));Object(r["a"])([m.State("user")],f.prototype,"user",void 0),Object(r["a"])([Object(u["c"])()],f.prototype,"customerFullName",void 0),Object(r["a"])([Object(u["c"])()],f.prototype,"customerCifCode",void 0),Object(r["a"])([Object(u["c"])()],f.prototype,"listId",void 0),f=Object(r["a"])([Object(u["a"])({components:{}})],f);var v=f,b=v,C=(a("14b4"),a("2877")),g=Object(C["a"])(b,i,s,!1,null,null,null);e["a"]=g.exports},d0d6:function(t,e,a){},e9ab:function(t,e,a){"use strict";a("116a")},fbc1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-page"},[a("div",{staticClass:"audit-table"},[a("base-table",{staticClass:"table-contract custom-table",attrs:{paginationInfo:"khách hàng",data:t.data,"is-loading":t.isLoading,table:t.query,showPagination:!0,emptyText:"Không có dữ liệu khách hàng"},on:{sizeChange:t.handleSizeChange,currentChange:t.handleCurrentChange,rowClick:t.handleRowClick,filterChange:t.handleFiltersChange,selectionChange:t.handleSelection},scopedSlots:t._u([{key:"header",fn:function(e){var i=e.filters,s=e.events;return a("div",{staticClass:"be-flex align-center header"},[a("div",{staticClass:"audit-action be-flex jc-space-between w-100"},[a("div",{staticClass:"aciton-left flex"},[a("customer-filter",{attrs:{filters:i},on:{change:s}})],1),a("div",{staticClass:"action-right flex actions"},[a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.listSelect.length>0,expression:"listSelect.length > 0"}],staticClass:"dro-customer",attrs:{"split-button":"",placement:"bottom-end"},on:{command:t.handleCommand}},[t._v(" Thao tác "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"delete"}},[t._v("Xóa khách hàng")])],1)],1),a("el-dropdown",{staticClass:"dropdown-create",attrs:{"split-button":"",placement:"bottom-end"},on:{click:t.handleCreateCustomer}},[t._v(" Thêm mới "),a("el-dropdown-menu",{staticClass:"sort-menu-popper poper-customer",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","auto-upload":!1,accept:t._f("joinArray")(t.fileExcelAccept),"show-file-list":!1,"on-change":t.handleUpload}},[a("el-dropdown-item",{staticClass:"drop-template",staticStyle:{width:"106%","text-align":"left"}},[a("span",[t._v("Thêm mới từ Excel")])])],1),a("el-dropdown-item",[t._v("Tải file mẫu")])],1)],1),a("el-button",{staticClass:"custom-button"},[a("span",{staticClass:"be-inline-flex align-center"},[a("base-icon",{staticClass:"icon",attrs:{icon:"excel-fullcolor"}}),t._v(" Xuất Excel ")],1)]),a("el-dropdown",{staticClass:"drop-action"},[a("el-button",{attrs:{"split-button":""}},[a("i",{staticClass:"el-icon-more icon-actionn"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{on:{click:t.Addcharge}},[t._v("Gán NV phụ trách")])],1)],1)],1)])])}}])},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"#",width:"61",align:"center"}}),a("el-table-column",{staticClass:"fix_style-checkbox",attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"Mã cif",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell-two-line"},[a("p",[t._v(t._s(e.row.customerCifCode))])])]}}])}),a("el-table-column",{attrs:{label:"họ tên",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"row-user"},[e.row.avatar?a("el-avatar",{attrs:{size:"medium",src:e.row.avatar}}):a("base-icon",{staticClass:"avatar__imployee--defalt",attrs:{icon:"icon-avatar-default"}}),a("div",{domProps:{innerHTML:t._s(t.checkName(e.row))}})],1)]}}])}),a("el-table-column",{attrs:{width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"bottom","popper-class":"popper-action-customer"},nativeOn:{click:function(e){return t.handleConflictClick.apply(null,arguments)}}},[a("div",{staticClass:"be-flex-column content poper-text"},[a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px"}},[a("span",{on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v("Sửa thông tin")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px","border-bottom":"1px solid #dbdbdb"},on:{click:function(a){return t.Addcharge({status:"assign",id:e.row.id,data:e.row})}}},[a("span",[t._v("Gán phụ trách")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px"},on:{click:function(a){return t.handleOpenPopupNote(e.row)}}},[a("span",[t._v("Ghi chú")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px"},on:{click:t.handleClickOpenAction}},[a("span",[t._v("Tạo lịch hẹn")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px"},on:{click:function(a){return t.handleOpenPopupUpload(e.row.id)}}},[a("span",[t._v("Upload tài liệu")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px"},on:{click:function(a){return t.Addcharge({status:"add",id:"",data:e.row})}}},[a("span",[t._v("Tạo cơ hội bán hàng")])]),a("div",{staticClass:"content-item cursor",staticStyle:{"line-height":"36px","border-top":"1px solid #dbdbdb"}},[a("span",{on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("Xóa khách hàng ")])])]),a("div",{staticClass:"reference action-more",attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"el-icon-more"})])])]}}])}),a("el-table-column",{attrs:{label:"nguồn",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getRelationShip(e.row.customerChannel))+" ")]}}])}),a("el-table-column",{attrs:{prop:"leadScore",label:"điểm",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"Trạng thái",width:"180",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{align:"left"},domProps:{innerHTML:t._s(t.checkStatus(e.row))}})]}}])}),a("el-table-column",{attrs:{label:"nv phụ trách","min-width":"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.salesFullName?a("div",{staticClass:"row-user"},[e.row.salesAvatar&&"2"!==e.row.assignStatus?a("el-avatar",{attrs:{size:"medium",src:e.row.salesAvatar}}):a("base-icon",{staticClass:"avatar__imployee--defalt",attrs:{icon:"icon-avatar-default"}}),a("div",{staticClass:"cell-two-line"},[a("p",[t._v(t._s(e.row.salesFullName))]),a("span",[t._v(t._s(e.row.salesMemberNo))])])],1):a("div",{staticClass:"row-user"},[a("div",{staticClass:"cell-two-line"},[a("p",[t._v(t._s(e.row.salesFullName))]),a("span",[t._v(t._s(e.row.salesMemberNo))])])])]}}])})],1)],1),a("create-customer",{attrs:{dataProp:t.dataPopup},on:{reset:t.resetCreateCustomer}}),a("appoint-customer"),a("popup-confirm-deal",{attrs:{dataProp:t.dataPopup},on:{confirm:t.handleConfirm}}),a("PopupDeleteGroup",{attrs:{customerFullName:t.customerFullName,customerCifCode:t.customerCifCode,listId:t.listId},on:{load:t.loadData}}),a("create-deal",{attrs:{dataProp:t.dataPopup,dataCustomer:t.dataCustomer}}),a("popup-note",{attrs:{type:t.type},on:{update:t.handleCreateNote}}),a("popup-add-upload-file",{attrs:{idUpload:t.idUpload}})],1)},s=[],n=a("c964"),o=a("f3f3"),l=a("276c"),c=a("e954"),r=a("920b"),u=a("92a6"),d=(a("96cf"),a("b0c0"),a("d81d"),a("d3b7"),a("25f0"),a("9ab4")),p=a("9f48"),h=a("1b40"),m=a("567c"),f=a("895c"),v=a("2b17"),b=a("d67a"),C=a("4bb5"),g=a("2ef0"),O=a("08ba"),y=a("9f13"),k=a("c822"),w=a("be17"),j=a("0506"),_=a("1572"),x=a("222c"),S=a("7461"),N=a("20d2"),P=Object(C["a"])("beCustomer"),F=function(t){Object(r["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(l["a"])(this,a),t=e.apply(this,arguments),t.isConflickClick=!1,t.isLoading=!1,t.data=[],t.query={page:1,limit:20,total:0},t.fileExcelAccept=N["a"],t.customerFullName="",t.customerCifCode="",t.dataPopup={title:"",code:"",id:"",data:{}},t.dataCustomer={id:"",customerFullName:"",customerCifCode:""},t.filters={},t.type="add",t.customerId=0,t.listSelect=[],t.listId=[],t.idUpload="",t.debounceFilter=Object(g["debounce"])((function(){t.init()}),600),t}return Object(c["a"])(a,[{key:"created",value:function(){var t,e;this.apiCustomer=Object(O["a"])("deal",{districtId:null===(t=this.user)||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[0].id})}},{key:"handleUpload",value:function(t){var e=this,a=this.$message({message:"Đang tải file lên",type:"success",duration:0});this.$message.close();var i=new FormData;"ready"===t.status&&(i.append("file",t.raw),i.append("name",t.name),this.apiCustomer.importExcelCustomer(i).then((function(){a.close(),e.$message.success("Tải lên thành công"),e.init()})).catch((function(t){a.close(),429===t.errorCode?e.$message.error("Không upload được file khi hệ thống đang cập nhật dữ liệu. Vui lòng thử lại sau ít phút"):e.$message.error(t.message)})))}},{key:"loadData",value:function(){this.init()}},{key:"indexMethod",value:function(t){return(this.query.page-1)*this.query.limit+t+1}},{key:"handleSelection",value:function(t){this.listSelect=t.map((function(t){return t.customerCifCode})),console.log("select",this.listSelect)}},{key:"handleCommand",value:function(t){"delete"===t&&(this.listId=this.listSelect,this.setOpenPopup({popupName:"delete-group",isOpen:!0}))}},{key:"handleOpenPopupUpload",value:function(t){this.idUpload=t,this.setOpenPopup({popupName:"add-upload-file",isOpen:!0})}},{key:"init",value:function(){var t=this;this.isLoading=!0;var e=Object(o["a"])(Object(o["a"])(Object(o["a"])({},this.query),this.filters),{},{total:null,assignStatus:2});this.apiCustomer.getDataCustomer("customers",e).then((function(e){t.data=e.content,t.query.total=e.totalElements,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}},{key:"resetCreateCustomer",value:function(){this.init()}},{key:"handleConfirm",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("delete"!=this.dataPopup.code){t.next=6;break}if(!this.dataPopup.id||0==this.dataPopup.id){t.next=4;break}return t.next=4,this.apiCustomer.deleteDealOrCusById("sales-deals",Object(g["trim"])(this.dataPopup.id.toString())).then((function(){a.$message.success("Xóa thành công"),a.setOpenPopup({popupName:"popup-confirm-deal",isOpen:!1}),a.init()})).catch((function(t){return a.$message.error(t.message)}));case 4:t.next=8;break;case 6:return t.next=8,this.apiCustomer.updatePersonChangeSale(e).then((function(){a.$message.success("Gán thành công"),a.setOpenPopup({popupName:"popup-confirm-deal",isOpen:!1}),a.init()})).catch((function(t){return a.$message.error(t.message)}));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"Addcharge",value:function(t){var e=t.status,a=t.id;this.dataPopup.code=e,this.dataPopup.id=a,"assign"!=e&&"delete"!=e||(this.dataPopup.title="assign"==e?"Gán Nhân viên phụ trách":"Xác nhận xóa",this.dataPopup.data=null===t||void 0===t?void 0:t.data,this.setOpenPopup({popupName:"popup-confirm-deal",isOpen:!0})),"add"!=e&&"edit"!=e||(this.dataPopup.title="add"==e?"Thêm mới cơ hội bán hàng":"Sửa thông tin cơ hội bán hàng",this.dataCustomer.id=t.data.id,this.dataCustomer.customerFullName=t.data.customerFullName,this.dataCustomer.customerCifCode=t.data.customerCifCode,this.setOpenPopup({popupName:"create-deal",isOpen:!0}))}},{key:"handleDelete",value:function(t){this.customerFullName=t.customerFullName,this.customerCifCode=t.customerIdNumber,this.setOpenPopup({popupName:"delete-group",isOpen:!0})}},{key:"resetQuery",value:function(){this.query.page=1,this.query.limit=20}},{key:"handleSizeChange",value:function(t){this.query.limit=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.query.page=t,this.init()}},{key:"checkName",value:function(t){var e="";return e="1"==t.customerType?t.customerFirstName+" "+t.customerLastName:t.customerFullName,e+"</span>"}},{key:"checkStatus",value:function(t){var e="";return"1"==t.customerStateId?e="Tiềm năng":"2"==t.customerStateId?e="Đang làm việc":"3"==t.customerStateId?e="Đã ký hợp đồng":"4"==t.customerStateId?e="Đã kết thúc":"5"==t.customerStateId?e="Spam":"6"==t.customerStateId&&(e="Dupilcated"),e+"</span>"}},{key:"getRelationShip",value:function(t){return y["CUSTOMER_CHANEL"][t]}},{key:"handleConflictClick",value:function(){this.isConflickClick=!0}},{key:"handleCreateCustomer",value:function(){this.dataPopup.code="add",this.setOpenPopup({popupName:"create-customer",isOpen:!0})}},{key:"handleClickOpenAction",value:function(){this.setOpenPopup({popupName:"appoint-customer",isOpen:!0})}},{key:"handleRowClick",value:function(t){this.isConflickClick?this.isConflickClick=!1:this.$router.push({name:"customerNewsfeed",params:{type:this.$route.params.type,view:"bang-tin",id:t.row.id}})}},{key:"handleFiltersChange",value:function(t){this.query.page=1,this.query.limit=20,this.filters=Object(o["a"])(Object(o["a"])({},this.filters),t),this.debounceFilter()}},{key:"handleCreateNote",value:function(t){var e=this,a="CUSTOMER";this.apiCustomer.createNote(a,{description:t.content,customerId:this.customerId}).then((function(){e.$message.success("Tạo ghi chú thành công"),e.init()}))}},{key:"handleOpenPopupNote",value:function(t){this.customerId=t.id,this.setOpenPopup({popupName:"popup-note",isOpen:!0})}},{key:"handleEdit",value:function(t){this.dataPopup.code="edit",this.dataPopup.id=t,this.dataPopup.title="Chỉnh sửa khách hàng tiềm năng",this.setOpenPopup({popupName:"create-customer",isOpen:!0})}}]),a}(Object(h["b"])(p["a"],v["a"]));Object(d["a"])([P.Action("setDetailIdCustomer")],F.prototype,"setDetailIdCustomer",void 0),F=Object(d["a"])([Object(h["a"])({components:{SearchBar:m["a"],CreateCustomer:f["a"],AppointCustomer:b["a"],CustomerFilter:j["a"],PopupConfirmDeal:_["a"],PopupDeleteGroup:k["a"],CreateDeal:w["a"],PopupNote:x["a"],PopupAddUploadFile:S["a"]}})],F);var I=F,$=I,U=(a("e9ab"),a("2877")),L=Object(U["a"])($,i,s,!1,null,"3d7f7190",null);e["default"]=L.exports}}]);
//# sourceMappingURL=chunk-a9b800de.71f31c82.js.map
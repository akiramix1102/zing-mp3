(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-337dbd2a"],{"08e1":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-filter"},[a("div",{staticClass:"be-flex align-center"},[a("el-input",{staticClass:"border-input input-width-beedu-prefix custom-report-input custom-input",attrs:{placeholder:e.searchPlaceholder},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("base-icon",{staticStyle:{"font-size":"12px"},attrs:{slot:"prefix",icon:"search"},slot:"prefix",model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("el-button",{staticClass:"be-button-unset custom-button mr-2",on:{click:e.handleClick}},[a("span",{staticClass:"abicon"},[a("base-icon",{staticClass:"icon",attrs:{icon:"filter"}})],1),e._v(" Bộ lọc ")]),a("el-dropdown",{attrs:{trigger:"click",placement:"bottom-end","hide-timeout":500},on:{command:e.handleCommand}},[a("el-button",{staticClass:"be-button-unset custom-button"},[a("span",{staticClass:"abicon"},[a("base-icon",{staticClass:"icon",attrs:{icon:"sort"}})],1),e._v(" Sắp xếp ")]),a("el-dropdown-menu",{staticClass:"custom-report-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sorts,(function(t,s){return a("el-dropdown-item",{key:s,class:{active:e.sortType===t.command},attrs:{command:t.command,divided:t.divided}},[a("span",{staticClass:"be-flex"},[a("span",{staticClass:"be-flex-item"},[e._v(" "+e._s(t.label)+" ")])])])})),1)],1)],1),a("filters-popup",{attrs:{type:e.type},on:{change:e.handeChangeFilters}})],1)},l=[],i=a("f3f3"),r=a("276c"),n=a("e954"),o=a("920b"),c=a("92a6"),u=(a("ac1f"),a("841c"),a("9ab4")),h=a("9f48"),p=a("2ef0"),d=a("1b40"),f=a("4bb5"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-popup",{staticClass:"filterPopupReport",attrs:{width:e.isReportAbc?"800px":"600px",name:"reportFilterPopup",top:"5vh",hiddenFooter:!0,open:e.handleOpen,close:e.handleClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("Bộ lọc")]),a("div",{staticClass:"container"},[a("el-form",{ref:"filterForm",staticClass:"custom-report-form",attrs:{model:e.filters,"label-position":"top"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:e.isReportAbc?12:24}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:e.isPl9i?12:24}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Năm"}},[a("el-date-picker",{staticClass:"filter-select",attrs:{type:"year",placeholder:"Pick a year"},model:{value:e.filters.year,callback:function(t){e.$set(e.filters,"year",t)},expression:"filters.year"}})],1)],1),a("el-col",{staticClass:"col-month",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Tháng"}},[a("el-select",{attrs:{placeholder:"Select"},model:{value:e.filters.month,callback:function(t){e.$set(e.filters,"month",t)},expression:"filters.month"}},e._l(12,(function(e){return a("el-option",{key:e,attrs:{label:"Tháng "+e,value:e}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"Khu vực"}},[a("el-select",{staticClass:"filter-select",attrs:{size:"large",multiple:"",filterable:"",remote:"",placeholder:"Tìm khu vực","remote-method":e.remoteMethodGetArea,loading:e.isLoading},on:{change:function(t){return e.handleChange("areaIds",t)}},model:{value:e.filters.areaIds,callback:function(t){e.$set(e.filters,"areaIds",t)},expression:"filters.areaIds"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadAreas,expression:"loadAreas"}]},e._l(e.dataLocation.areaIds,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)])],1),a("el-form-item",{attrs:{label:"Chi nhánh"}},[a("el-select",{staticClass:"filter-select",attrs:{size:"large",multiple:"",filterable:"",remote:"",placeholder:"Tìm chi nhánh","remote-method":e.remoteMethodGetBranch,loading:e.isLoading},on:{change:function(t){return e.handleChange("branchIds",t)}},model:{value:e.filters.branchIds,callback:function(t){e.$set(e.filters,"branchIds",t)},expression:"filters.branchIds"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadBranches,expression:"loadBranches"}]},e._l(e.dataLocation.branchIds,(function(e){return a("el-option",{key:e.id,attrs:{label:e.locationCode+" - "+e.name,value:e.id}})})),1)])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showAction,expression:"showAction"}],attrs:{label:"Đơn vị kinh doanh"}},[a("el-select",{staticClass:"filter-select",attrs:{size:"large",multiple:"",filterable:"",remote:"",placeholder:"Tìm đơn vị kinh doanh","remote-method":e.remoteMethodGetOffice,loading:e.isLoading},on:{change:function(t){return e.handleChange("officeIds",t)}},model:{value:e.filters.officeIds,callback:function(t){e.$set(e.filters,"officeIds",t)},expression:"filters.officeIds"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadOffices,expression:"loadOffices"}]},e._l(e.dataLocation.officeIds,(function(e){return a("el-option",{key:e.id,attrs:{label:e.locationCode+" - "+e.name,value:e.id}})})),1)])],1),e.isReportAbc?e._e():a("el-row",{attrs:{gutter:24}},["pl9i"!=e.type?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"revenue"}},[a("template",{slot:"label"},["pl9d"===e.type?a("span",[e._v("Doanh số năm 1")]):"pl9e"===e.type?a("span",[e._v("Doanh số K2")]):"pl9f"===e.type?a("span",[e._v("Hoa hồng năm 1")]):"pl9g"===e.type?a("span",[e._v("Hoa hồng K2")]):"pl9h"===e.type?a("span",[e._v("Chương trình thi đua")]):e._e()]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Từ",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("revenue","fromValue")}},model:{value:e.filters.fromValue,callback:function(t){e.$set(e.filters,"fromValue",t)},expression:"filters.fromValue"}})],1),a("div",{staticClass:"line"},[e._v("-")]),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Đến",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("revenue","toValue")}},model:{value:e.filters.toValue,callback:function(t){e.$set(e.filters,"toValue",t)},expression:"filters.toValue"}})],1)],1),e.listError.value?a("small",{staticClass:"error"},[e._v('Giá trị "từ" phải nhỏ hơn giá trị "đến"')]):e._e()],2)],1):e._e()],1)],1),"pl9i"==e.type?a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tỷ lệ DS nguồn KH vay"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectRevenueLoanPercent,callback:function(t){e.$set(e.filters,"selectRevenueLoanPercent",t)},expression:"filters.selectRevenueLoanPercent"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tỷ lệ DS nguồn KH huy động"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectRevenueCapitalPercent,callback:function(t){e.$set(e.filters,"selectRevenueCapitalPercent",t)},expression:"filters.selectRevenueCapitalPercent"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tỷ lệ DS nguồn KH vãng lai"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectRevenueVisitorPercent,callback:function(t){e.$set(e.filters,"selectRevenueVisitorPercent",t)},expression:"filters.selectRevenueVisitorPercent"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tỷ lệ DS nguồn người thân"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectRevenueFamilyPercent,callback:function(t){e.$set(e.filters,"selectRevenueFamilyPercent",t)},expression:"filters.selectRevenueFamilyPercent"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tỷ lệ DS nguồn KH CBNV"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectRevenueEmployeePercent,callback:function(t){e.$set(e.filters,"selectRevenueEmployeePercent",t)},expression:"filters.selectRevenueEmployeePercent"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1)],1):e._e()],1)],1),e.isReportAbc?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Doanh số",prop:"numberRule"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Từ",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("numberRule","fromRevenue")}},model:{value:e.filters.fromRevenue,callback:function(t){e.$set(e.filters,"fromRevenue",t)},expression:"filters.fromRevenue"}})],1),a("div",{staticClass:"line"},[e._v("-")]),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Đến",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("numberRule","toRevenue")}},model:{value:e.filters.toRevenue,callback:function(t){e.$set(e.filters,"toRevenue",t)},expression:"filters.toRevenue"}})],1)],1),e.listError.numberRule?a("small",{staticClass:"error"},[e._v('Giá trị "từ" phải nhỏ hơn giá trị "đến"')]):e._e()],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"TLHT DS LK tháng"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectMonthRevenue,callback:function(t){e.$set(e.filters,"selectMonthRevenue",t)},expression:"filters.selectMonthRevenue"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"TLHT DS LK năm"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectYearRevenue,callback:function(t){e.$set(e.filters,"selectYearRevenue",t)},expression:"filters.selectYearRevenue"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1),a("el-form-item",{attrs:{label:"Hoa hồng",prop:"commission"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Từ",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("commission","fromCommission")}},model:{value:e.filters.fromCommission,callback:function(t){e.$set(e.filters,"fromCommission",t)},expression:"filters.fromCommission"}})],1),a("div",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Đến",type:"text",clearable:""},nativeOn:{keyup:function(t){return e.handleChangeInput("commission","toCommission")}},model:{value:e.filters.toCommission,callback:function(t){e.$set(e.filters,"toCommission",t)},expression:"filters.toCommission"}})],1)],1),e.listError.commission?a("small",{staticClass:"error"},[e._v('Giá trị "từ" phải nhỏ hơn giá trị "đến"')]):e._e()],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"TLHT HH LK tháng"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectMonthCommission,callback:function(t){e.$set(e.filters,"selectMonthCommission",t)},expression:"filters.selectMonthCommission"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"TLHT HH LK năm"}},[a("el-select",{staticClass:"filter-select",attrs:{placeholder:"Tất cả"},model:{value:e.filters.selectYearCommission,callback:function(t){e.$set(e.filters,"selectYearCommission",t)},expression:"filters.selectYearCommission"}},[a("el-option",{attrs:{value:"0",label:"Tất cả"}}),a("el-option",{attrs:{value:"1",label:"Từ 0% - 50%"}}),a("el-option",{attrs:{value:"2",label:"Từ 50% - 75%"}}),a("el-option",{attrs:{value:"3",label:"Từ 75% - 100%"}}),a("el-option",{attrs:{value:"4",label:"Từ 100% - 130%"}}),a("el-option",{attrs:{value:"5",label:"Trên 130%"}})],1)],1)],1)],1)],1):e._e()],1)],1)],1),a("div",{staticClass:"text-right footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"group-filter-button",on:{click:function(t){return e.handleSubmit("reset")}}},[e._v("Mặc định")]),a("el-button",{staticClass:"be-button-danger group-filter-button",on:{click:e.handleSubmit}},[e._v("Áp dụng")])],1)])},b=[],v=a("d0ff"),g=a("c964"),y=(a("96cf"),a("7db0"),a("a9e3"),a("99af"),a("b64b"),a("b0c0"),a("08ba")),T=Object(f["a"])("beReport"),O=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.isLoading=!1,e.filters={month:(new Date).getMonth()+1,year:new Date,areaIds:[],branchIds:[],officeIds:[],fromValue:"",toValue:"",selectRevenueLoanPercent:"",selectRevenueCapitalPercent:"",selectRevenueVisitorPercent:"",selectRevenueFamilyPercent:"",selectRevenueEmployeePercent:"",fromRevenue:"",toRevenue:"",selectMonthRevenue:"",selectYearRevenue:"",selectYearCommission:"",selectMonthCommission:"",toCommission:"",fromCommission:"",locationSelect:{areaIds:[],officeIds:[],branchIds:[]}},e.locationRes=void 0,e.options=[],e.dataLocation={areaIds:[],officeIds:[],branchIds:[]},e.query={areas:{i:0,ps:20,search:""},branches:{i:0,ps:20,search:""},offices:{i:0,ps:20,search:""}},e.listError={commission:!1,numberRule:!1,value:!1},e.showAction=!0,e}return Object(n["a"])(a,[{key:"isReportAbc",get:function(){return Object(p["includes"])(["pl9a","pl9b","pl9c"],this.type)}},{key:"isPl9i",get:function(){return Object(p["includes"])(["pl9i"],this.type)}},{key:"handleChange",value:function(e,t){if(console.log(e,t),0==t.length||t.length<this.filters.locationSelect[e].length)0==t.length&&(this.filters.locationSelect[e]=[]),t.length<this.filters.locationSelect[e].length&&this.filters.locationSelect[e].length.pop();else{var a=t[t.length-1],s=this.dataLocation[e].find((function(e){return e.id==a})),l=this.filters.locationSelect[e].some((function(e){return e.id==(null===s||void 0===s?void 0:s.id)}));l||this.filters.locationSelect[e].push(s)}}},{key:"convertNumberToDecimal",value:function(e){this.filters[e]="0"===this.$options.filters.formatNumber(this.convertDecimalToNumber(this.filters[e]))?null:this.$options.filters.formatNumber(this.convertDecimalToNumber(this.filters[e]))}},{key:"convertDecimalToNumber",value:function(e){return"number"!==typeof e?Number(e.replaceAll(",","")):e}},{key:"handleChangeInput",value:function(e,t){this.convertNumberToDecimal(t),"numberRule"===e&&(this.filters.toRevenue&&this.filters.fromRevenue&&this.convertDecimalToNumber(this.filters.toRevenue)<this.convertDecimalToNumber(this.filters.fromRevenue)?this.listError.numberRule=!0:this.listError.numberRule=!1),"commission"===e&&(this.filters.toCommission&&this.filters.fromCommission&&this.convertDecimalToNumber(this.filters.toCommission)<this.convertDecimalToNumber(this.filters.fromCommission)?this.listError.commission=!0:this.listError.commission=!1),"revenue"===e&&(this.filters.fromValue&&this.filters.toValue&&this.convertDecimalToNumber(this.filters.toValue)<this.convertDecimalToNumber(this.filters.fromValue)?this.listError.value=!0:this.listError.value=!1)}},{key:"remoteMethodGetArea",value:function(e){this.isLoading=!0,this.query.areas.search=Object(p["trim"])(e),this.query.areas.i=0,this.query.areas.ps=20;var t=Object(p["debounce"])(this.searchArea,500);t(e)}},{key:"remoteMethodGetBranch",value:function(e){this.isLoading=!0,this.query.branches.search=Object(p["trim"])(e),this.query.branches.i=0,this.query.branches.ps=20;var t=Object(p["debounce"])(this.searchBranch,500);t(e)}},{key:"remoteMethodGetOffice",value:function(e){this.isLoading=!0,this.query.offices.search=Object(p["trim"])(e),this.query.offices.i=0,this.query.offices.ps=20;var t=Object(p["debounce"])(this.searchOffice,500);t(e)}},{key:"loadAreas",value:function(){if(console.log(1),Object(p["size"])(this.dataLocation.areaIds)===this.query.areas.i+this.query.areas.ps){this.query.areas.i=Object(p["size"])(this.dataLocation.areaIds);var e=Object(p["debounce"])(this.searchArea,500);e(this.query.areas.search,!0)}}},{key:"loadBranches",value:function(){if(console.log(1),Object(p["size"])(this.dataLocation.branchIds)===this.query.branches.i+this.query.branches.ps){this.query.branches.i=Object(p["size"])(this.dataLocation.branchIds);var e=Object(p["debounce"])(this.searchBranch,500);e(this.query.branches.search,!0)}}},{key:"loadOffices",value:function(){if(console.log(1),Object(p["size"])(this.dataLocation.officeIds)===this.query.offices.i+this.query.offices.ps){this.query.offices.i=Object(p["size"])(this.dataLocation.officeIds);var e=Object(p["debounce"])(this.searchOffice,500);e(this.query.offices.search,!0)}}},{key:"searchArea",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var a,s,l,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,null===(s=this.locationRes)||void 0===s?void 0:s.list("area",{search:Object(p["trim"])(t),i:this.query.areas.i,ps:this.query.areas.ps});case 4:l=e.sent,a?(i=l||[],this.dataLocation.areaIds=[].concat(Object(v["a"])(this.dataLocation.areaIds),Object(v["a"])(i))):this.dataLocation.areaIds=l||[],this.isLoading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),this.isLoading=!1,this.dataLocation.areas=[];case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchBranch",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var a,s,l,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,null===(s=this.locationRes)||void 0===s?void 0:s.list("branch",{search:Object(p["trim"])(t),i:this.query.branches.i,ps:this.query.branches.ps});case 4:l=e.sent,a?(i=l||[],this.dataLocation.branchIds=[].concat(Object(v["a"])(this.dataLocation.branchIds),Object(v["a"])(i))):this.dataLocation.branchIds=l||[],this.isLoading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),this.isLoading=!1,this.dataLocation.branchIds=[];case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchOffice",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var a,s,l,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,null===(s=this.locationRes)||void 0===s?void 0:s.list("office",{search:Object(p["trim"])(t),i:this.query.offices.i,ps:this.query.offices.ps});case 4:l=e.sent,a?(i=l||[],this.dataLocation.officeIds=[].concat(Object(v["a"])(this.dataLocation.officeIds),Object(v["a"])(i))):this.dataLocation.officeIds=l||[],this.isLoading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),this.isLoading=!1,this.dataLocation.officeIds=[];case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetData",value:function(){this.isReportAbc?this.filters={month:(new Date).getMonth()+1,year:new Date,selectYearCommission:null,selectMonthCommission:null,toCommission:null,fromCommission:null,selectYearRevenue:null,selectMonthRevenue:null,toRevenue:null,fromRevenue:null,officeIds:[],branchIds:[],areaIds:[]}:this.filters={month:(new Date).getMonth()+1,year:new Date,officeIds:[],branchIds:[],areaIds:[],toValue:null,fromValue:null,selectRevenueLoanPercent:null,selectRevenueCapitalPercent:null,selectRevenueVisitorPercent:null,selectRevenueFamilyPercent:null},this.listError={commission:!1,numberRule:!1,value:!1}}},{key:"handleSubmit",value:function(e){var t=this;if("reset"!==e){var a=Object.keys(this.listError).every((function(e){return!t.listError[e]}));a&&(this.$emit("change",this.filters),this.setOpenPopup({popupName:"reportFilterPopup",isOpen:!1}),console.log("data",this.filters))}else this.resetData()}},{key:"reset",value:function(){this.dataLocation.areaIds=[],this.dataLocation.branchIds=[],this.dataLocation.officeIds=[]}},{key:"handleOpen",value:function(){"pl9bReport"===this.$route.name&&(this.showAction=!1),this.searchArea(""),this.searchBranch(""),this.searchOffice("")}},{key:"handleClose",value:function(){this.reset()}},{key:"created",value:function(){this.locationRes=Object(y["a"])("location",{districtId:this.districtId});var e=this.getFilter(this.type);e&&(this.filters=Object(p["assign"])(this.filters,e.filters),this.dataLocation=Object(i["a"])({},e.filters.locationSelect),delete this.filters.search,delete this.filters.sortType)}}]),a}(Object(d["b"])(h["a"]));Object(u["a"])([Object(d["c"])({required:!0,type:String,default:"pl9a"})],O.prototype,"type",void 0),Object(u["a"])([T.Getter("getFilter")],O.prototype,"getFilter",void 0),O=Object(u["a"])([Object(d["a"])({components:{}})],O);var C=O,R=C,k=(a("68f2"),a("2877")),E=Object(k["a"])(R,m,b,!1,null,"0025a13c",null),I=E.exports,j=Object(f["a"])("beReport"),_=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.search="",e.groupFilters={month:(new Date).getMonth()+1,year:new Date},e.sortType="",e}return Object(n["a"])(a,[{key:"sorts",get:function(){return Object(p["includes"])(["pl9a","pl9b","pl9c"],this.type)?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_INCREASE",label:"Doanh số lũy kế",divided:!0},{command:"COMMISSION_INCREASE",label:"Hoa hồng lũy kế",divided:!1},{command:"RESULT_YEAR_REVENUE_PERCENT_INCREASE",label:"Tỷ lệ hoàn thành doanh số năm",divided:!0},{command:"RESULT_MONTH_REVENUE_PERCENT_INCREASE",label:"Tỷ lệ hoàn thành doanh số tháng",divided:!1},{command:"RESULT_YEAR_COMMISSION_PERCENT_INCREASE",label:"Tỷ lệ hoàn thành thu phí năm",divided:!1},{command:"RESULT_MONTH_COMMISSION_PERCENT_INCREASE",label:"Tỷ lệ hoàn thành thu phí tháng",divided:!1}]:"pl9d"===this.type?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_INCREASE",label:"Doanh số năm 1 lũy kế",divided:!0}]:"pl9e"===this.type?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_INCREASE",label:"Doanh số K2 lũy kế",divided:!0}]:"pl9f"===this.type?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"COMMISSION_INCREASE",label:"Hoa hồng năm 1 lũy kế",divided:!0}]:"pl9g"===this.type?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"COMMISSION_INCREASE",label:"Hoa hồng K2 lũy kế",divided:!0}]:"pl9h"===this.type?[{command:"OFFICE_ID_INCREASE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_INCREASE",label:"Chương trình thi đua lũy kế",divided:!0}]:"pl9i"===this.type?[{command:"TRANSACTION_OFFICE_CODE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_CK_TOTAL_AMOUNT",label:"Tổng doanh số",divided:!0},{command:"CK_NUM_OF_AMOUNT",label:"Số hợp đồng",divided:!0}]:"pl9year"===this.type?[{command:"TRANSACTION_OFFICE_CODE",label:"Mã đơn vị kinh doanh",divided:!1},{command:"REVENUE_CK_TOTAL_AMOUNT",label:"Ngày tháng",divided:!0}]:[]}},{key:"watchSearch",value:function(e){this.searchText(e)}},{key:"searchText",value:function(e){this.groupFilters.search=Object(p["trim"])(e),this.$emit("change",Object(p["assign"])(this.groupFilters,{search:Object(p["trim"])(e),sortType:this.sortType})),this.setReportFilter({report:this.type,filters:Object(p["assign"])(this.groupFilters,{search:Object(p["trim"])(e),sortType:this.sortType})})}},{key:"handleClick",value:function(){this.setOpenPopup({popupName:"reportFilterPopup",isOpen:!0})}},{key:"handeChangeFilters",value:function(e){this.groupFilters=Object(i["a"])(Object(i["a"])({},this.groupFilters),e),this.setReportFilter({report:this.type,filters:Object(p["assign"])(this.groupFilters,{search:this.search,sortType:this.sortType})}),this.$emit("change",Object(p["assign"])(this.groupFilters,{search:this.search,sortType:this.sortType}))}},{key:"handleCommand",value:function(e){this.sortType===e?this.sortType="":this.sortType=e,this.setReportFilter({report:this.type,filters:Object(p["assign"])(this.groupFilters,{search:this.search,sortType:this.sortType})}),this.$emit("change",Object(p["assign"])(this.groupFilters,{search:this.search,sortType:this.sortType}))}},{key:"init",value:function(){var e=this.getFilter(this.type);e&&(this.groupFilters=Object(p["assign"])(this.groupFilters,e.filters),delete this.groupFilters.search,delete this.groupFilters.sortType,this.search=e.filters.search,this.sortType=e.filters.sortType),this.$emit("change",Object(p["assign"])(this.groupFilters,{search:this.search,sortType:this.sortType}))}},{key:"created",value:function(){this.init()}}]),a}(Object(d["b"])(h["a"]));Object(u["a"])([Object(d["c"])({required:!1,type:String,default:"pl9a"})],_.prototype,"type",void 0),Object(u["a"])([Object(d["c"])({required:!0,type:Object})],_.prototype,"filters",void 0),Object(u["a"])([Object(d["c"])({required:!1,type:String,default:"Tìm kiếm..."})],_.prototype,"searchPlaceholder",void 0),Object(u["a"])([j.Getter("getFilter")],_.prototype,"getFilter",void 0),Object(u["a"])([j.Action("setReportFilter")],_.prototype,"setReportFilter",void 0),Object(u["a"])([Object(d["e"])("search",{immediate:!1})],_.prototype,"watchSearch",null),_=Object(u["a"])([Object(d["a"])({components:{FiltersPopup:I}})],_);var x=_,L=x,N=(a("80e6"),Object(k["a"])(L,s,l,!1,null,"d5cdde54",null));t["a"]=N.exports},2720:function(e,t,a){},"68f2":function(e,t,a){"use strict";a("d9fb")},"80e6":function(e,t,a){"use strict";a("2720")},d9fb:function(e,t,a){},e383:function(e,t,a){"use strict";var s=a("c964"),l=a("276c"),i=a("e954"),r=a("920b"),n=a("92a6"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("9ab4")),c=a("2ef0"),u=a("08ba"),h=a("1b40"),p=function(e){Object(r["a"])(a,e);var t=Object(n["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.reportRes2=void 0,e.isExcelLoading=!1,e.isPdfLoading=!1,e}return Object(i["a"])(a,[{key:"handleExport",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,s,l,i,r,n,o,u,h,p,d,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=m.length>1&&void 0!==m[1]?m[1]:"excel",s=m.length>2?m[2]:void 0,l=m.length>3?m[3]:void 0,i=m.length>4?m[4]:void 0,"excel"===a&&(this.isExcelLoading=!0),"pdf"===a&&(this.isPdfLoading=!0),r="",e.t0=t,e.next="pl9a"===e.t0?10:"pl9b"===e.t0?12:"pl9c"===e.t0?14:"pl9d"===e.t0?16:"pl9e"===e.t0?18:"pl9f"===e.t0?20:"pl9g"===e.t0?22:24;break;case 10:return r="9a",e.abrupt("break",26);case 12:return r="9b",e.abrupt("break",26);case 14:return r="9c",e.abrupt("break",26);case 16:return r="9d",e.abrupt("break",26);case 18:return r="9e",e.abrupt("break",26);case 20:return r="9f",e.abrupt("break",26);case 22:return r="9g",e.abrupt("break",26);case 24:return r="9h",e.abrupt("break",26);case 26:if(null===i||void 0===i||!i.length){e.next=51;break}return e.prev=27,o=Object(c["assign"])({format:a},s,l),delete o.locationSelect,e.next=32,null===(n=this.reportRes2)||void 0===n?void 0:n.exportReport(t,o,r);case 32:u=e.sent,h=window.URL.createObjectURL(new Blob([u.data])),p=document.createElement("a"),p.href=h,d=new Date,f="".concat(d.getFullYear()).concat(d.getMonth()+1).concat(d.getDate()).concat(d.getHours()).concat(d.getMinutes()).concat(d.getMilliseconds()),p.setAttribute("download","".concat(t.toUpperCase(),"_").concat(f,".").concat("pdf"===a?"pdf":"xlsx")),document.body.appendChild(p),p.click(),this.isExcelLoading=!1,this.isPdfLoading=!1,e.next=49;break;case 45:e.prev=45,e.t1=e["catch"](27),this.isExcelLoading=!1,this.isPdfLoading=!1;case 49:e.next=54;break;case 51:this.$message.error("Không tìm thấy dữ liệu xuất file"),this.isExcelLoading=!1,this.isPdfLoading=!1;case 54:case"end":return e.stop()}}),e,this,[[27,45]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.reportRes2=Object(u["a"])("jasper",{districtId:this.districtId})}}]),a}(h["d"]);p=Object(o["a"])([h["a"]],p),t["a"]=p}}]);
//# sourceMappingURL=chunk-337dbd2a.4d4e7a3a.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be143"],{"2f70":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-page"},[a("base-tree-table",{staticClass:"table-expanded custom-table custom-table-height",attrs:{data:t.data,isLoading:t.isLoading,table:t.table,filters:t.filters,showPagination:!0,showSummary:!0,summaryMethod:t.summaryMethod,"default-expand-all":!0,sumText:"Tổng",paginationInfo:"đơn vị kinh doanh",rowKey:"id",emptyText:"Không có dữ liệu báo cáo"},on:{sizeChange:t.handleSizeChange,currentChange:t.handleCurrentChange,filterChange:t.handleFiltersChange},scopedSlots:t._u([{key:"header",fn:function(e){var n=e.filters,l=e.events;return a("div",{staticClass:"be-flex align-center header"},[a("report-filter",{staticClass:"be-flex-item",attrs:{filters:n,type:"pl9year"},on:{change:l}}),a("div",{staticClass:"actions"},[a("el-button",{staticClass:"custom-button",attrs:{loading:t.isExcelLoading},on:{click:function(e){return t.handleExport("pl9b","excel",n,t.table,t.data)}}},[a("span",{staticClass:"be-inline-flex align-center"},[a("base-icon",{staticClass:"icon",attrs:{icon:"excel-fullcolor"}}),t._v(" Xuất Excel ")],1)]),a("el-button",{staticClass:"custom-button",attrs:{loading:t.isPdfLoading},on:{click:function(e){return t.handleExport("pl9b","pdf",n,t.table,t.data)}}},[a("span",{staticClass:"be-inline-flex align-center"},[a("base-icon",{staticClass:"icon",attrs:{icon:"pdf"}}),t._v(" Xuất PDF ")],1)])],1)],1)}}])},[a("el-table-column",{attrs:{label:"#",type:"index",align:"center",width:"57px"}}),a("el-table-column",{attrs:{label:"SỐ CIF BMBH",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"CMND BMBH",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"HỌ TÊN BMBH",align:"center",prop:"cifcode","min-width":"180px"}}),a("el-table-column",{attrs:{label:"SỐ HĐBH",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"CMND BMBH",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"TRẠNG THÁI HĐ",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.auditStatus?a("span",{staticClass:"not-approve cell-status"},[t._v("Chưa đối soát")]):t._e(),"2"==e.row.auditStatus?a("span",{staticClass:"pending-approve cell-status"},[t._v("Đang đối soát")]):t._e(),"3"==e.row.auditStatus?a("span",{staticClass:"pending-approve cell-status"},[t._v("Chờ duyệt")]):t._e(),"4"==e.row.auditStatus?a("span",{staticClass:"approve cell-status"},[t._v("Đã duyệt")]):t._e(),"5"==e.row.auditStatus?a("span",{staticClass:"pending-approve cell-status"},[t._v("Yêu cầu hiệu chỉnh")]):t._e(),"6"==e.row.auditStatus?a("span",{staticClass:"decline cell-status"},[t._v("Từ chối duyệt")]):t._e(),"7"==e.row.auditStatus?a("span",{staticClass:"decline cell-status"},[t._v("Từ chối hiệu chỉnh")]):t._e(),"8"==e.row.auditStatus?a("span",{staticClass:"pending-approve cell-status"},[t._v("Hiệu chỉnh")]):t._e(),"9"==e.row.auditStatus?a("span",{staticClass:"approve cell-status"},[t._v("Hiệu chỉnh")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"productCode",label:"Mã SP",width:"110",align:"left"}}),a("el-table-column",{attrs:{width:"180",label:"NGÀY PH",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatDateTime")(e.row.issueDate)))])]}}])}),a("el-table-column",{attrs:{label:"TỔNG PHÍ ĐÓNG",prop:"target_month_commission_year1_amount",width:"140px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatNumber")(a.target_month_commission_year1_amount)))]}}])}),a("el-table-column",{attrs:{label:"FYP",prop:"target_month_commission_year1_amount",width:"140px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatNumber")(a.target_month_commission_year1_amount)))]}}])}),a("el-table-column",{attrs:{label:"MÃ PGD",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"TÊN PGD/PHÒNG",align:"left","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"MÃ CN",align:"center",prop:"cifcode",width:"140px"}}),a("el-table-column",{attrs:{label:"TÊN CN/KHỐI",align:"left","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"MÃ CBNV GT",align:"center","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"TÊN CBNV GT",align:"left",prop:"cifcode","min-width":"160px"}}),a("el-table-column",{attrs:{label:"CHỨC DANH",align:"left","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"TỔ",align:"left",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"PHÒNG/BAN",align:"left","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"MQH VỚI BMBH",align:"left","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"SỐ CIF KH",align:"center",width:"140px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"CMND KH",align:"center",prop:"cifcode","min-width":"160px"}}),a("el-table-column",{attrs:{label:"ĐỊA BÀN CƯ TRÚ CỦA KH","min-width":"200px",align:"left",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"SP ĐANG SỬ DỤNG",align:"left","min-width":"200px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"DƯ NỢ TĐ PH HĐ",prop:"target_month_commission_year1_amount",width:"140px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatNumber")(a.target_month_commission_year1_amount)))]}}])}),a("el-table-column",{attrs:{label:"SỐ DƯ TĐ PH HD",prop:"target_month_commission_year1_amount",width:"140px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatNumber")(a.target_month_commission_year1_amount)))]}}])}),a("el-table-column",{attrs:{label:"STK VAY",align:"center",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"STK TIẾT KIỆM",align:"center","min-width":"160px",prop:"cifcode"}}),a("el-table-column",{attrs:{label:"CT ƯU ĐÃI THAM GIA",align:"left","min-width":"160px",prop:"cifcode"}})],1)],1)},l=[],i=a("f3f3"),r=a("c964"),o=a("276c"),s=a("e954"),c=a("920b"),u=a("92a6"),p=(a("96cf"),a("9ab4")),d=a("08ba"),h=a("2ef0"),m=a("1b40"),b=a("08e1"),f=a("e383"),g=function(t){Object(c["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.data=[],t.filters={month:(new Date).getMonth()+1,year:new Date},t.table={total:0,page:1,limit:20},t.isLoading=!1,t.tableHeight="auto",t.reportRes=void 0,t.summary={},t.debounceFilter=Object(h["debounce"])((function(){t.init(),t.getSummary()}),600),t}return Object(s["a"])(a,[{key:"handleLoad",value:function(t,e,a){setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a([]);case 1:case"end":return t.stop()}}),t)}))),500)}},{key:"init",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.isLoading=!0,t.next=6,null===(e=this.reportRes)||void 0===e?void 0:e.getPl9bReport(Object(h["assign"])(this.filters,this.table));case 6:a=t.sent,this.data=(null===a||void 0===a?void 0:a.contents)||[],this.table.total=(null===a||void 0===a?void 0:a.totalElements)||0,this.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),this.isLoading=!1;case 15:case"end":return t.stop()}}),t,this,[[2,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"summaryMethod",value:function(t){var e=this,a=t.columns,n=[];return Object(h["forEach"])(a,(function(t,a){if(a<1)n[a]="";else if(1!==a){var l=e.summary[t.property]||0;n[a]="".concat(Object(h["includes"])(t.property,"percent")?e.$options.filters.formatPercent(l):e.$options.filters.formatNumber(l))}else n[a]="Tổng"})),n}},{key:"getSummary",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(e=this.reportRes)||void 0===e?void 0:e.getPl9bReportSummary(Object(h["assign"])(this.filters,this.table));case 3:a=t.sent,this.summary=a||{},console.log("result",a),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSizeChange",value:function(t){this.table.limit=t,this.table.page=1,this.init(),this.getSummary()}},{key:"handleCurrentChange",value:function(t){this.table.page=t,this.init(),this.getSummary()}},{key:"handleFiltersChange",value:function(t){this.filters=Object(i["a"])(Object(i["a"])({},t),{},{reportType:"9b"}),this.table.page=1,this.debounceFilter()}},{key:"getHeightOfTable",value:function(){this.tableHeight="".concat(window.innerHeight-233,"px")}},{key:"mounted",value:function(){this.getHeightOfTable()}},{key:"created",value:function(){this.reportRes=Object(d["a"])("report",{districtId:this.districtId})}}]),a}(Object(m["b"])(f["a"]));g=Object(p["a"])([Object(m["a"])({components:{ReportFilter:b["a"]}})],g);var _=g,v=_,w=a("2877"),y=Object(w["a"])(v,n,l,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0be143.f8c82940.js.map
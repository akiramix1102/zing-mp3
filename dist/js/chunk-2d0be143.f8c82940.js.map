{"version":3,"sources":["webpack:///./src/modules/reports/views/Pl9YearReport.vue?92d1","webpack:///./src/modules/reports/views/Pl9YearReport.vue","webpack:///./src/modules/reports/views/Pl9YearReport.vue?a70a","webpack:///./src/modules/reports/views/Pl9YearReport.vue?8866"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","data","isLoading","table","filters","summaryMethod","on","handleSizeChange","handleCurrentChange","handleFiltersChange","scopedSlots","_u","key","fn","ref","events","isExcelLoading","$event","handleExport","_v","isPdfLoading","sc","row","auditStatus","_e","scope","_s","_f","issueDate","target_month_commission_year1_amount","staticRenderFns","month","Date","getMonth","year","total","page","limit","tableHeight","reportRes","undefined","summary","debounceFilter","init","getSummary","tree","treeNode","resolve","setTimeout","getPl9bReport","contents","totalElements","params","columns","sums","column","index","a","property","$options","formatPercent","formatNumber","getPl9bReportSummary","result","console","log","val","reportType","window","innerHeight","getHeightOfTable","districtId","components","ReportFilter","component"],"mappings":"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","file":"js/chunk-2d0be143.f8c82940.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"report-page\"},[_c('base-tree-table',{staticClass:\"table-expanded custom-table custom-table-height\",attrs:{\"data\":_vm.data,\"isLoading\":_vm.isLoading,\"table\":_vm.table,\"filters\":_vm.filters,\"showPagination\":true,\"showSummary\":true,\"summaryMethod\":_vm.summaryMethod,\"default-expand-all\":true,\"sumText\":\"Tổng\",\"paginationInfo\":\"đơn vị kinh doanh\",\"rowKey\":\"id\",\"emptyText\":\"Không có dữ liệu báo cáo\"},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange,\"filterChange\":_vm.handleFiltersChange},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar filters = ref.filters;\nvar events = ref.events;\nreturn _c('div',{staticClass:\"be-flex align-center header\"},[_c('report-filter',{staticClass:\"be-flex-item\",attrs:{\"filters\":filters,\"type\":\"pl9year\"},on:{\"change\":events}}),_c('div',{staticClass:\"actions\"},[_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":_vm.isExcelLoading},on:{\"click\":function($event){return _vm.handleExport('pl9b', 'excel', filters, _vm.table, _vm.data)}}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"excel-fullcolor\"}}),_vm._v(\" Xuất Excel \")],1)]),_c('el-button',{staticClass:\"custom-button\",attrs:{\"loading\":_vm.isPdfLoading},on:{\"click\":function($event){return _vm.handleExport('pl9b', 'pdf', filters, _vm.table, _vm.data)}}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"pdf\"}}),_vm._v(\" Xuất PDF \")],1)])],1)],1)}}])},[_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\",\"align\":\"center\",\"width\":\"57px\"}}),_c('el-table-column',{attrs:{\"label\":\"SỐ CIF BMBH\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"CMND BMBH\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"HỌ TÊN BMBH\",\"align\":\"center\",\"prop\":\"cifcode\",\"min-width\":\"180px\"}}),_c('el-table-column',{attrs:{\"label\":\"SỐ HĐBH\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"CMND BMBH\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"TRẠNG THÁI HĐ\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(sc){return [(sc.row.auditStatus == '1')?_c('span',{staticClass:\"not-approve cell-status\"},[_vm._v(\"Chưa đối soát\")]):_vm._e(),(sc.row.auditStatus == '2')?_c('span',{staticClass:\"pending-approve cell-status\"},[_vm._v(\"Đang đối soát\")]):_vm._e(),(sc.row.auditStatus == '3')?_c('span',{staticClass:\"pending-approve cell-status\"},[_vm._v(\"Chờ duyệt\")]):_vm._e(),(sc.row.auditStatus == '4')?_c('span',{staticClass:\"approve cell-status\"},[_vm._v(\"Đã duyệt\")]):_vm._e(),(sc.row.auditStatus == '5')?_c('span',{staticClass:\"pending-approve cell-status\"},[_vm._v(\"Yêu cầu hiệu chỉnh\")]):_vm._e(),(sc.row.auditStatus == '6')?_c('span',{staticClass:\"decline cell-status\"},[_vm._v(\"Từ chối duyệt\")]):_vm._e(),(sc.row.auditStatus == '7')?_c('span',{staticClass:\"decline cell-status\"},[_vm._v(\"Từ chối hiệu chỉnh\")]):_vm._e(),(sc.row.auditStatus == '8')?_c('span',{staticClass:\"pending-approve cell-status\"},[_vm._v(\"Hiệu chỉnh\")]):_vm._e(),(sc.row.auditStatus == '9')?_c('span',{staticClass:\"approve cell-status\"},[_vm._v(\"Hiệu chỉnh\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"productCode\",\"label\":\"Mã SP\",\"width\":\"110\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"NGÀY PH\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatDateTime\")(scope.row.issueDate)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"TỔNG PHÍ ĐÓNG\",\"prop\":\"target_month_commission_year1_amount\",\"width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatNumber\")(row.target_month_commission_year1_amount)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"FYP\",\"prop\":\"target_month_commission_year1_amount\",\"width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatNumber\")(row.target_month_commission_year1_amount)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"MÃ PGD\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"TÊN PGD/PHÒNG\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"MÃ CN\",\"align\":\"center\",\"prop\":\"cifcode\",\"width\":\"140px\"}}),_c('el-table-column',{attrs:{\"label\":\"TÊN CN/KHỐI\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"MÃ CBNV GT\",\"align\":\"center\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"TÊN CBNV GT\",\"align\":\"left\",\"prop\":\"cifcode\",\"min-width\":\"160px\"}}),_c('el-table-column',{attrs:{\"label\":\"CHỨC DANH\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"TỔ\",\"align\":\"left\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"PHÒNG/BAN\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"MQH VỚI BMBH\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"SỐ CIF KH\",\"align\":\"center\",\"width\":\"140px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"CMND KH\",\"align\":\"center\",\"prop\":\"cifcode\",\"min-width\":\"160px\"}}),_c('el-table-column',{attrs:{\"label\":\"ĐỊA BÀN CƯ TRÚ CỦA KH\",\"min-width\":\"200px\",\"align\":\"left\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"SP ĐANG SỬ DỤNG\",\"align\":\"left\",\"min-width\":\"200px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"DƯ NỢ TĐ PH HĐ\",\"prop\":\"target_month_commission_year1_amount\",\"width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatNumber\")(row.target_month_commission_year1_amount)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"SỐ DƯ TĐ PH HD\",\"prop\":\"target_month_commission_year1_amount\",\"width\":\"140px\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"formatNumber\")(row.target_month_commission_year1_amount)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"STK VAY\",\"align\":\"center\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"STK TIẾT KIỆM\",\"align\":\"center\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}}),_c('el-table-column',{attrs:{\"label\":\"CT ƯU ĐÃI THAM GIA\",\"align\":\"left\",\"min-width\":\"160px\",\"prop\":\"cifcode\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PaginationInterface } from '@/interface'\nimport getRepository from '@/services'\nimport { Pl9bReportEntity } from '@/services/entities/report'\nimport ReportRepository from '@/services/repositories/report'\nimport { assign, forEach, includes, debounce } from 'lodash'\nimport { Component, Mixins } from 'vue-property-decorator'\nimport ReportFilter from '../components/filters/ReportFilter.vue'\nimport ExportMixin from '../mixins/export'\n\n@Component({ components: { ReportFilter } })\nexport default class Pl9bReport extends Mixins(ExportMixin) {\n  data: Pl9bReportEntity[] = []\n\n  filters: Record<string, any> = {\n    month: new Date().getMonth() + 1,\n    year: new Date()\n  }\n\n  table: PaginationInterface = {\n    total: 0,\n    page: 1,\n    limit: 20\n  }\n\n  isLoading = false\n\n  tableHeight: string | number = 'auto'\n\n  reportRes: ReportRepository | undefined = undefined\n\n  summary: Record<string, any> = {}\n\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  handleLoad(tree: Pl9bReportEntity, treeNode: any, resolve: any): void {\n    setTimeout(async () => {\n      resolve([])\n    }, 500)\n  }\n\n  async init(): Promise<void> {\n    if (this.isLoading) {\n      return\n    }\n    try {\n      this.isLoading = true\n      const data = await this.reportRes?.getPl9bReport(assign(this.filters, this.table))\n      this.data = data?.contents || []\n      this.table.total = data?.totalElements || 0\n      this.isLoading = false\n    } catch (error) {\n      this.isLoading = false\n    }\n  }\n\n  summaryMethod(params: { columns: any; data: Pl9bReportEntity[] }): any[] {\n    const { columns } = params\n    const sums: any[] = []\n    forEach(columns, (column, index: number) => {\n      if (index < 1) {\n        sums[index] = ''\n        return\n      }\n      if (index === 1) {\n        sums[index] = 'Tổng'\n        return\n      }\n      const a = this.summary[column.property] || 0\n      //@ts-ignore\n      sums[index] = `${includes(column.property, 'percent') ? this.$options.filters.formatPercent(a) : this.$options.filters.formatNumber(a)}`\n    })\n    return sums\n  }\n\n  async getSummary(): Promise<any> {\n    try {\n      const result = await this.reportRes?.getPl9bReportSummary(assign(this.filters, this.table))\n      this.summary = result || {}\n      console.log('result', result)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  handleSizeChange(val: number): void {\n    this.table.limit = val\n    this.table.page = 1\n    this.init()\n    this.getSummary()\n  }\n\n  handleCurrentChange(val: number): void {\n    this.table.page = val\n    this.init()\n    this.getSummary()\n  }\n\n  handleFiltersChange(filters: Record<string, any>): void {\n    this.filters = {\n      ...filters,\n      reportType: '9b'\n    }\n    this.table.page = 1\n    this.debounceFilter()\n  }\n\n  debounceFilter = debounce(() => {\n    this.init()\n    this.getSummary()\n  }, 600)\n\n  getHeightOfTable(): void {\n    this.tableHeight = `${window.innerHeight - 233}px`\n  }\n\n  mounted(): void {\n    this.getHeightOfTable()\n  }\n\n  created(): void {\n    this.reportRes = getRepository('report', {\n      districtId: this.districtId\n    })\n    // this.init()\n    // this.getSummary()\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pl9YearReport.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pl9YearReport.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pl9YearReport.vue?vue&type=template&id=8045a83c&\"\nimport script from \"./Pl9YearReport.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pl9YearReport.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/modules/import/components/popup/PopupImportKpiYear.vue?8588","webpack:///./src/modules/import/views/ImportKpiYear.vue?72f8","webpack:///./src/modules/import/views/ImportKpiYear.vue?ae60","webpack:///./src/modules/import/components/popup/PopupImportKpiYear.vue?02f2","webpack:///./src/modules/import/components/popup/PopupImportKpiYear.vue","webpack:///./src/modules/import/components/popup/PopupImportKpiYear.vue?4855","webpack:///./src/modules/import/components/popup/PopupImportKpiYear.vue?c50a","webpack:///./src/modules/import/components/popup/PopupUploadKpiYear.vue?4731","webpack:///./src/modules/import/components/popup/PopupUploadKpiYear.vue","webpack:///./src/modules/import/components/popup/PopupUploadKpiYear.vue?653f","webpack:///./src/modules/import/components/popup/PopupUploadKpiYear.vue?94ec","webpack:///./src/modules/import/views/ImportKpiYear.vue","webpack:///./src/modules/import/views/ImportKpiYear.vue?52e0","webpack:///./src/modules/import/views/ImportKpiYear.vue?bc26","webpack:///./src/modules/import/components/popup/PopupUploadKpiYear.vue?1d35"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handleSearch","handleFilterDate","handleFilterStatus","handleFilterUser","staticStyle","attrs","isLoadingButton","handleOpenExportFile","_v","UploadFileYear","data","query","isLoading","handleSizeChange","handleCurrentChange","handleGetDetail","getIndex","scopedSlots","_u","key","fn","scope","_s","row","fileName","_f","size","_e","avatar","userName","userCode","createdAt","status","detailFile","isError","init","staticRenderFns","handleOpen","handleClose","slot","directives","name","rawName","value","expression","tableHeight","branchType","branchName","_l","ref","errorCount","dataError","rowIndex","description","importReq","detail","tabs","id","active","errorRow","totalErrorCount","sheetAactive","isLoadingPopup","page","limit","total","window","innerHeight","getHeightOfTable","replaceAll","list","item","sheetName","length","getSheetsName","then","shift","params","fileId","districtId","res","subactive","tab","isLoadingTable","getDetail","console","log","numOfRow","catch","e","$message","error","message","unshift","required","type","Object","default","Boolean","components","BaseTable","BaseIcon","HdTable","HsTable","PendingTable","RejectTable","InactiveTable","ReminderTable","IncurredTable","TaiTucTable","component","model","callback","$$v","valueYear","fileAccept","handleChangeFile","Date","getFullYear","setOpenPopup","popupName","isOpen","file","uploadFile","formData","FormData","append","raw","success","$emit","errorCode","beUser","filter","search","fd","td","userIds","isSpace","temp","getData","result","files","resetQuery","apiImport","user","districts","spamleFile","response","a","document","createElement","style","display","href","body","appendChild","click","removeChild","err","date","join","text","indexOf","State","ImportFilter","ImportFileDetail"],"mappings":"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","file":"js/chunk-0050192c.d6286fcf.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupImportKpiYear.vue?vue&type=style&index=0&id=77111947&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportKpiYear.vue?vue&type=style&index=0&id=08a112c7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"import-page\"},[_c('div',{staticClass:\"be-flex main-action\"},[_c('div',{staticClass:\"main-action__left\"},[_c('import-filter',{on:{\"search\":_vm.handleSearch,\"filterDate\":_vm.handleFilterDate,\"filterStatus\":_vm.handleFilterStatus,\"filterUser\":_vm.handleFilterUser}})],1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-button',{staticClass:\"custom-button\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"loading\":_vm.isLoadingButton},on:{\"click\":_vm.handleOpenExportFile}},[_c('span',{staticClass:\"be-inline-flex align-center\"},[_c('base-icon',{staticClass:\"icon\",attrs:{\"icon\":\"excel-fullcolor\"}}),_vm._v(\" Tải file mẫu \")],1)]),_c('button',{staticClass:\"cursor btn_upload\",on:{\"click\":_vm.UploadFileYear}},[_vm._v(\"Upload file\")])],1)]),_c('div',{staticClass:\"import-table\"},[_c('base-table',{attrs:{\"data\":_vm.data,\"table\":_vm.query,\"paginationInfo\":\"file\",\"is-loading\":_vm.isLoading,\"emptyText\":\"Không có dữ liệu cập nhật\"},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange,\"rowClick\":_vm.handleGetDetail}},[_c('el-table-column',{attrs:{\"index\":_vm.getIndex,\"type\":\"index\",\"label\":\"#\",\"width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"fileName\",\"label\":\"TÊN\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.fileName))]),(scope.row.size)?_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm._f(\"bytesToSize\")(scope.row.size)))]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"peopleUpload\",\"label\":\"NGƯỜI TẢI LÊN\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"flex wrap-name\"},[_c('div',{staticClass:\"flex-item-avatar\"},[_c('base-avatar',{attrs:{\"url\":scope.row.avatar,\"size\":\"xs\"}})],1),_c('div',{staticClass:\"flex-item-name\"},[_vm._v(\" \"+_vm._s(scope.row.userName)),_c('br'),_c('span',{staticClass:\"small\"},[_vm._v(\" \"+_vm._s(scope.row.userCode))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"date_time\",\"label\":\"NGÀY GIỜ\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatDateHour\")(scope.row.createdAt)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"TRẠNG THÁI\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 'IN_PROGRESS' || scope.row.status === 'NEW' || scope.row.status === 'SUCCESS')?_c('span',{staticClass:\"status processing\"},[_vm._v(\"Đang xử lý\")]):_vm._e(),(scope.row.status === 'FAIL')?_c('span',{staticClass:\"status error_data\"},[_vm._v(\"Lỗi dữ liệu\")]):_vm._e(),(scope.row.status === 'COMPLETED')?_c('span',{staticClass:\"status processed\"},[_vm._v(\"Đã xử lý\")]):_vm._e()]}}])})],1)],1),_c('import-file-detail',{attrs:{\"detail-file\":_vm.detailFile,\"is-error\":_vm.isError}}),_c('upload-file-year',{on:{\"apply\":_vm.init}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-popup',{staticClass:\"popup-file-detail\",attrs:{\"name\":\"detail-file-kpi-year\",\"open\":_vm.handleOpen,\"close\":_vm.handleClose,\"width\":\"1240px\",\"hiddenFooter\":true}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Nội dung file\")]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingPopup),expression:\"isLoadingPopup\"}],staticClass:\"body-content\"},[_c('div',{staticClass:\"body-content__header\"},[_c('div',{staticClass:\"be-flex-column header-file-name\"},[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(_vm.fileName))]),_c('div',{staticClass:\"be-flex wrap-user-name\"},[_c('base-avatar',{attrs:{\"url\":_vm.detailFile.avatar,\"size\":\"xs\"}}),_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.detailFile.userName))]),_c('span',{staticClass:\"date-time\"},[_vm._v(_vm._s(_vm._f(\"formatDateHour\")(_vm.detailFile.createdAt)))])],1)])]),(!_vm.isError)?_c('div',{staticClass:\"body-content__table body-content__table--error\"},[_c('base-tree-table',{attrs:{\"maxHeight\":_vm.tableHeight,\"data\":_vm.data,\"table\":_vm.query,\"isLoading\":_vm.isLoading,\"paginationInfo\":\"dòng\",\"showPagination\":true},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"index\":_vm.getIndex,\"type\":\"index\",\"label\":\"#\",\"width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"Tên ĐVKD\",\"align\":\"left\",\"width\":\"250px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"business-unit-code\"},[_vm._v(_vm._s(scope.row.branchType))]),_c('span',[_vm._v(\"- \"+_vm._s(scope.row.branchName))])]}}],null,false,3042252326)}),_c('el-table-column',{attrs:{\"label\":\"Mã ĐVKD\",\"width\":\"100\",\"align\":\"center\",\"prop\":\"branchCode\"}}),_c('el-table-column',{attrs:{\"label\":\"Mã ĐVQL\",\"prop\":\"managementCode\",\"align\":\"center\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"Kế hoạch kinh doanh năm\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"label\":\"FYP\",\"width\":\"130px\",\"prop\":\"revenueYear1\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"label\":\"Phí dịch vụ\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"align\":\"right\",\"label\":\"Năm 1\",\"prop\":\"commissionYear1\",\"width\":\"130px\"}}),_c('el-table-column',{attrs:{\"align\":\"right\",\"label\":\"K2\",\"prop\":\"commissionK2\",\"width\":\"130px\"}}),_c('el-table-column',{attrs:{\"align\":\"right\",\"label\":\"Tổng\",\"prop\":\"commission\",\"width\":\"130px\"}})],1)],1),_c('el-table-column',[_c('el-table-column',{attrs:{\"label\":\"Tháng 1\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"label\":\"FYP\",\"prop\":\"revenueT1\",\"align\":\"right\",\"width\":\"130px\"}}),_c('el-table-column',{attrs:{\"label\":\"Thu phí dịch vụ\",\"prop\":\"commissionT1\",\"align\":\"right\",\"width\":\"140px\"}})],1)],1),_c('el-table-column',{attrs:{\"label\":\"Lũy kế từ đầu năm\",\"align\":\"center\"}},_vm._l((11),function(value){return _c('el-table-column',{key:value,attrs:{\"label\":(\"Tháng \" + (value + 1)),\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"label\":\"FYP\",\"align\":\"right\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row[(\"revenueT\" + (value + 1))]))]}}],null,true)}),_c('el-table-column',{attrs:{\"label\":\"Thu phí dịch vụ\",\"align\":\"right\",\"width\":\"140px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(row[(\"commissionT\" + (value + 1))]))]}}],null,true)})],1)}),1)],1)],1):_vm._e(),(_vm.isError)?_c('div',{staticClass:\"body-content__content body-content__content--error\"},[_c('div',{staticClass:\"text-column\"},[_c('div',{staticClass:\"be-flex text-item\"},[_c('span',{staticClass:\"text-item__title\"},[_vm._v(\"Số dòng lỗi format\")]),_c('span',{staticClass:\"text-item__number text-bold\"},[_vm._v(_vm._s(_vm.errorCount))])])])]):_vm._e(),(_vm.isError)?_c('div',{staticClass:\"body-content__table body-content__table--error\"},[_c('base-table',{attrs:{\"data\":_vm.dataError,\"table\":_vm.query,\"isLoading\":_vm.isLoading,\"paginationInfo\":\"dòng\"},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"index\":_vm.getIndex,\"type\":\"index\",\"label\":\"#\",\"width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"stt dòng\",\"width\":\"90\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.rowIndex)+\" \")]}}],null,false,3765580137)}),_c('el-table-column',{attrs:{\"width\":\"20\"}}),_c('el-table-column',{attrs:{\"label\":\"mô tả lỗi\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.description)+\" \")]}}],null,false,1461819547)})],1)],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins, Prop } from 'vue-property-decorator'\nimport { forEach, filter } from 'lodash'\nimport PopupMixin from '@/mixins/popup'\nimport { PaginationInterface, IErrorRow } from '@/interface'\nimport ImportRepository from '@/services/repositories/import'\nimport getRepository from '@/services'\nimport BaseIcon from '@/components/base/icon/BaseIcon.vue'\nimport BaseTable from '@/components/base/table/BaseTable.vue'\nimport DistrictMixin from '@/mixins/commonMixin'\nimport { TabsFile } from '@/interface'\nimport HdTable from '../table/HdTable.vue'\nimport HsTable from '../table/HsTable.vue'\nimport PendingTable from '../table/PendingTable.vue'\nimport RejectTable from '../table/RejectTable.vue'\nimport InactiveTable from '../table/InactiveTable.vue'\nimport ReminderTable from '../table/ReminderTable.vue'\nimport IncurredTable from '../table/IncurredTable.vue'\nimport TaiTucTable from '../table/TaiTucTable.vue'\n\nconst importReq: ImportRepository = getRepository('import')\n\n@Component({ components: { BaseTable, BaseIcon, HdTable, HsTable, PendingTable, RejectTable, InactiveTable, ReminderTable, IncurredTable, TaiTucTable } })\nexport default class ImportFileDetail extends Mixins(PopupMixin, DistrictMixin) {\n  data: Array<Record<string, any>> = []\n  @Prop({ required: false, type: Object, default: {} }) detailFile!: Record<string, any>\n  @Prop({ required: false, type: Boolean, default: false }) isError!: boolean\n\n  detail: Record<string, any> = {}\n  tabs: Array<TabsFile> = [\n    {\n      id: 0,\n      name: 'TỔNG HỢP LỖI',\n      active: true\n    },\n    {\n      id: 1,\n      name: 'KHKD'\n    },\n    {\n      id: 2,\n      name: 'PHI_PHAT_SINH'\n    },\n    {\n      id: 3,\n      name: 'HD_MOI'\n    },\n    {\n      id: 4,\n      name: 'HD_HUY'\n    },\n    {\n      id: 5,\n      name: 'HD_TAI_TUC'\n    },\n    {\n      id: 6,\n      name: 'HO_SO_PENDING'\n    },\n    {\n      id: 7,\n      name: 'HO_SO_TU_CHOI'\n    },\n    {\n      id: 8,\n      name: 'HD_MAT_HIEU_LUC'\n    },\n    {\n      id: 9,\n      name: 'DS_NHAC_THU_PHI_TAI_TUC'\n    }\n  ]\n  tableHeight: string | number = 'auto'\n  getHeightOfTable(): void {\n    this.tableHeight = `${window.innerHeight - 123}px`\n  }\n  mounted(): void {\n    this.getHeightOfTable()\n  }\n  errorRow: Array<IErrorRow> = []\n  dataError = []\n  totalErrorCount = 0\n\n  sheetAactive: any = 'KPI_DVKD'\n\n  isLoading = false\n  isLoadingPopup = false\n\n  query: PaginationInterface = {\n    page: 1,\n    limit: 20,\n    total: 0\n  }\n\n  get getIndex(): number {\n    return this.query.limit * (this.query.page - 1) + 1\n  }\n\n  get fileName(): string {\n    if (this.detailFile && this.detailFile.fileName) {\n      return this.detailFile.fileName.replaceAll('.xlsx', ' ')\n    }\n    return ''\n  }\n\n  get errorCount(): number {\n    const list = filter(this.errorRow, item => item.sheetName === this.sheetAactive)\n    if (list.length) {\n      return list[0].errorCount\n    } else if (!list.length && this.sheetAactive) {\n      return 0\n    }\n    return this.totalErrorCount\n  }\n\n  handleOpen(): void {\n    if (this.isError) {\n      this.getSheetsName().then(() => {\n        this.init()\n      })\n    } else if (this.isError) {\n      this.tabs[0].active = false\n    } else {\n      this.tabs.shift()\n      this.tabs[0].active = true\n      this.init()\n    }\n  }\n\n  async getSheetsName(): Promise<void> {\n    const params = {\n      fileId: this.detailFile.id\n    }\n    await importReq.getSheetsName(this.districtId, params).then((res: any) => {\n      this.errorRow = res.data.data\n      this.tabs[0].active = true\n      this.tabs[0].subactive = true\n      this.tabs[1].active = false\n      this.sheetAactive = null\n      forEach(this.tabs, tab => {\n        forEach(res.data.data, data => {\n          if (tab.name === data.sheetName) {\n            tab.subactive = true\n          }\n        })\n      })\n    })\n  }\n\n  init(isLoadingTable = false): void {\n    if (isLoadingTable) {\n      this.isLoading = true\n    } else {\n      this.isLoadingPopup = true\n    }\n    const params = {\n      ...this.query,\n      total: null,\n      fileId: this.detailFile.id,\n      sheetName: this.sheetAactive\n    }\n    importReq\n      .getDetail(this.districtId, this.isError, params)\n      .then(res => {\n        console.log(res.list[0])\n        if (!this.isError) {\n          this.detail = res.total\n          this.data = res.list\n          this.query.total = res.total.numOfRow\n        } else {\n          this.dataError = res.list\n          this.totalErrorCount = res.total\n          this.query.total = this.errorCount\n        }\n        if (isLoadingTable) {\n          this.isLoading = false\n        } else {\n          this.isLoadingPopup = false\n        }\n      })\n      .catch(e => {\n        if (isLoadingTable) {\n          this.isLoading = false\n        } else {\n          this.isLoadingPopup = false\n        }\n        this.$message.error(e.message)\n      })\n  }\n\n  handleClose(): void {\n    if (!this.isError) {\n      this.tabs.unshift({\n        id: 0,\n        name: 'Tổng hợp lỗi',\n        active: true\n      })\n    }\n    this.detail = {}\n    this.dataError = []\n    this.errorRow = []\n    this.sheetAactive = 'KPI_DVKD'\n    forEach(this.tabs, tab => {\n      if (tab.id === 1) {\n        tab.active = true\n      } else {\n        delete tab.active\n        delete tab.subactive\n      }\n    })\n  }\n  handleSizeChange(size: number): void {\n    this.query.limit = size\n    this.init(true)\n  }\n  handleCurrentChange(page: number): void {\n    this.query.page = page\n\n    this.init(true)\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupImportKpiYear.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupImportKpiYear.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PopupImportKpiYear.vue?vue&type=template&id=77111947&scoped=true&\"\nimport script from \"./PopupImportKpiYear.vue?vue&type=script&lang=ts&\"\nexport * from \"./PopupImportKpiYear.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PopupImportKpiYear.vue?vue&type=style&index=0&id=77111947&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77111947\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-popup',{staticClass:\"upload-file-year\",attrs:{\"name\":\"upload-file-year\",\"width\":\"286px\",\"hiddenFooter\":true,\"close\":_vm.handleClose}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Chọn thời gian\")]),_c('div',{staticClass:\"content\"},[_c('div',[_c('div',{staticClass:\"content-right\"},[_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"Năm\")])]),_c('el-date-picker',{attrs:{\"size\":\"medium\",\"type\":\"year\",\"value-format\":\"yyyy\",\"placeholder\":\"Năm\",\"clearable\":false,\"width\":\"160px!important\"},model:{value:(_vm.valueYear),callback:function ($$v) {_vm.valueYear=$$v},expression:\"valueYear\"}})],1)])]),_c('div',{staticClass:\"bottom\"},[_c('button',{staticClass:\"btn-close\",on:{\"click\":_vm.handleClose}},[_vm._v(\"Huỷ\")]),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"\",\"auto-upload\":false,\"accept\":_vm._f(\"joinArray\")(_vm.fileAccept),\"show-file-list\":false,\"on-change\":_vm.handleChangeFile}},[_c('button',{staticClass:\"btn-upload\",on:{\"click\":_vm.handleChangeFile}},[_vm._v(\"Upload file\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { fileAccept } from '../../config'\nimport { Component, Mixins } from 'vue-property-decorator'\nimport PopupMixin from '@/mixins/popup'\nimport ImportRepository from '@/services/repositories/import/index'\nimport getRepository from '@/services'\n\nconst importReq: ImportRepository = getRepository('import')\n@Component({ components: {} })\nexport default class UploadFileMonth extends Mixins(PopupMixin) {\n  valueYear = new Date().getFullYear() + ''\n  fileAccept: Array<string> = fileAccept\n  handleClose(): void {\n    this.setOpenPopup({\n      popupName: 'upload-file-year',\n      isOpen: false\n    })\n  }\n  handleChangeFile(file: Record<string, any>): void {\n    this.uploadFile(file)\n  }\n  uploadFile(file: Record<string, any>): void {\n    const formData = new FormData()\n    if (file.status === 'ready') {\n      formData.append('file', file.raw)\n      formData.append('name', file.name)\n      formData.append('type', 'KPI_YEAR')\n      formData.append('year', this.valueYear)\n      this.$message.success('Đang tải file lên')\n      importReq\n        .uploadFile(this.districtId, formData)\n        .then(() => {\n          this.$message.success('Tải lên thành công')\n          this.handleClose()\n          this.$emit('apply')\n        })\n        .catch(error => {\n          if (error.errorCode === 429) {\n            this.$message.error('Không upload được file khi hệ thống đang cập nhật dữ liệu. Vui lòng thử lại sau ít phút')\n            this.handleClose()\n          } else {\n            this.$message.error('Tải lên thất bại')\n            this.handleClose()\n          }\n        })\n    }\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupUploadKpiYear.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupUploadKpiYear.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PopupUploadKpiYear.vue?vue&type=template&id=43040eb5&scoped=true&\"\nimport script from \"./PopupUploadKpiYear.vue?vue&type=script&lang=ts&\"\nexport * from \"./PopupUploadKpiYear.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PopupUploadKpiYear.vue?vue&type=style&index=0&id=43040eb5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43040eb5\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PaginationInterface } from '@/interface'\nimport { Component, Mixins } from 'vue-property-decorator'\nimport PopupMixin from '@/mixins/popup'\nimport DistrictMixin from '@/mixins/commonMixin'\nimport getRepository from '@/services'\nimport { namespace } from 'vuex-class'\nimport ImportRepository from '@/services/repositories/import/index'\nimport ImportFilter from '../components/filter/Filter.vue'\nimport ImportFileDetail from '../components/popup/PopupImportKpiYear.vue'\nimport UploadFileYear from '../components/popup/PopupUploadKpiYear.vue'\nimport { trim } from 'lodash'\nconst beUser = namespace('beUser')\nconst importReq: ImportRepository = getRepository('import')\n@Component({ components: { ImportFilter, ImportFileDetail, UploadFileYear } })\nexport default class ImportPage extends Mixins(PopupMixin, DistrictMixin) {\n  data: Array<Record<string, any>> = []\n  isLoadingButton = false\n  @beUser.State('user') user!: any\n  apiImport?: ImportRepository\n  query: PaginationInterface = {\n    page: 1,\n    limit: 20,\n    total: 0 // chưa có api total nên fix cứng\n  }\n  filter = {\n    search: '',\n    fd: '',\n    td: '',\n    status: '',\n    userIds: ''\n  }\n\n  detailFile = {}\n  isError = false\n  isLoading = false\n  params: Record<string, any> = {\n    type: 'KPI_YEAR'\n  }\n  isSpace = false\n  mounted(): void {\n    this.init()\n  }\n  get getIndex(): number {\n    return this.query.limit * (this.query.page - 1) + 1\n  }\n  // lay ra list du lieu import\n  async init(): Promise<void> {\n    this.isLoading = true\n    const temp = {\n      ...this.query,\n      search: this.filter.search ? this.filter.search : null,\n      fd: this.filter.fd ? this.filter.fd : null,\n      td: this.filter.td ? this.filter.td : null,\n      status: this.filter.status ? this.filter.status : null,\n      userIds: this.filter.userIds ? this.filter.userIds : null,\n      total: null,\n      type: 'KPI_YEAR'\n    }\n    const result = await importReq.getData(this.districtId, temp)\n    this.data = result.files\n    this.query.total = result.total\n    this.isLoading = false\n  }\n  UploadFileYear(): void {\n    this.setOpenPopup({\n      popupName: 'upload-file-year',\n      isOpen: true\n    })\n  }\n  handleSearch(key: string): void {\n    this.resetQuery()\n    if (this.isLoading) {\n      return\n    } else {\n      this.filter.search = trim(key)\n      this.init()\n    }\n  }\n  created(): void {\n    this.apiImport = getRepository('import', {\n      districtId: this.user?.districts?.[0].id\n    })\n  }\n  async handleOpenExportFile(): Promise<void> {\n    this.isLoadingButton = true\n    let response: any\n\n    await this.apiImport\n      // eslint-disable-next-line no-undef\n      ?.spamleFile(this.districtId, this.params)\n      .then(data => {\n        response = data.data\n        const a = document.createElement('a')\n        a.style.display = 'none'\n        a.href = response\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        this.isLoadingButton = false\n\n        this.isLoadingButton = false\n      })\n      .catch(err => {\n        console.log(err)\n        this.isLoadingButton = false\n      })\n  }\n  handleFilterDate(date: Record<string, any>): void {\n    this.resetQuery()\n    this.filter.fd = date.fd\n    this.filter.td = date.td\n    this.init()\n  }\n  handleFilterStatus(status: Array<string>): void {\n    this.resetQuery()\n    this.filter.status = status.join(',')\n    this.init()\n  }\n\n  handleFilterUser(list: Array<number>): void {\n    this.resetQuery()\n    this.filter.userIds = list.join(',')\n    this.init()\n  }\n\n  handleSizeChange(size: number): void {\n    this.query.limit = size\n    this.init()\n  }\n  handleCurrentChange(page: number): void {\n    this.query.page = page\n    this.init()\n  }\n\n  handleGetDetail(row: Record<string, any>): void {\n    this.detailFile = row.row\n    this.isError = row.row.status === 'FAIL'\n    if (row.row.status !== 'IN_PROGRESS' && row.row.status !== 'NEW' && row.row.status !== 'SUCCESS') {\n      this.setOpenPopup({\n        popupName: 'detail-file-kpi-year',\n        isOpen: true\n      })\n    } else {\n      this.$message.error('File đang xử lý, vui lòng đợi')\n    }\n  }\n\n  resetQuery(): void {\n    this.query.page = 1\n    this.query.limit = 20\n  }\n\n  hasWhiteSpace(text: string): void {\n    if (text.indexOf(' ') >= 0) {\n      this.isSpace = true\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportKpiYear.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportKpiYear.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportKpiYear.vue?vue&type=template&id=08a112c7&scoped=true&\"\nimport script from \"./ImportKpiYear.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportKpiYear.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImportKpiYear.vue?vue&type=style&index=0&id=08a112c7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08a112c7\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupUploadKpiYear.vue?vue&type=style&index=0&id=43040eb5&scoped=true&lang=scss&\""],"sourceRoot":""}